import{a as w,b as j,c as An,d as rD,e as oD,f as p,h as ap,i as cp,l as iD,m as lp}from"./chunk-PZ5UXJ7I.js";var Lh=An(Fh=>{"use strict";Object.defineProperty(Fh,"__esModule",{value:!0});var Ph=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Fh.default=Ph});var Vh=An(ls=>{"use strict";var K_=ls&&ls.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ls,"__esModule",{value:!0});var IM=K_((lp(),oD(iD))),SM=K_(Lh()),jh=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=IM.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>p(this,null,function*(){var s,a,c,l;let u=null,d=null,h=null,f=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){let O=yield i.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=O:d=JSON.parse(O))}let v=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&y&&y.length>1&&(h=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let v=yield i.text();try{u=JSON.parse(v),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,g="OK")}catch{i.status===404&&v===""?(f=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new SM.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}};ls.default=jh});var Bh=An(us=>{"use strict";var TM=us&&us.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(us,"__esModule",{value:!0});var MM=TM(Vh()),Uh=class extends MM.default{select(e){let t=!1,r=(e??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[e?"analyze":null,t?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};us.default=Uh});var pl=An(ds=>{"use strict";var AM=ds&&ds.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ds,"__esModule",{value:!0});var xM=AM(Bh()),$h=class extends xM.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}};ds.default=$h});var zh=An(hs=>{"use strict";var RM=hs&&hs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hs,"__esModule",{value:!0});var fs=RM(pl()),Hh=class{constructor(e,{headers:t={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=o}select(e,{head:t=!1,count:r}={}){let o=t?"HEAD":"GET",i=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new fs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var o;let i="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new fs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){var s;let a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){let c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new fs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;let o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new fs.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;let r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new fs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}};hs.default=Hh});var Y_=An(ps=>{"use strict";var Z_=ps&&ps.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ps,"__esModule",{value:!0});var NM=Z_(zh()),OM=Z_(pl()),Gh=class n{constructor(e,{headers:t={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.fetch=o}from(e){let t=new URL(`${this.url}/${e}`);return new NM.default(t,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new n(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:r=!1,get:o=!1,count:i}={}){var s;let a,c=new URL(`${this.url}/rpc/${e}`),l;r||o?(a=r?"HEAD":"GET",Object.entries(t).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(a="POST",l=t);let u=new Headers(this.headers);return i&&u.set("Prefer",`count=${i}`),new OM.default({method:a,url:c,headers:u,schema:this.schemaName,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};ps.default=Gh});var rw=An(Ee=>{"use strict";var Io=Ee&&Ee.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;var J_=Io(Y_());Ee.PostgrestClient=J_.default;var Q_=Io(zh());Ee.PostgrestQueryBuilder=Q_.default;var X_=Io(pl());Ee.PostgrestFilterBuilder=X_.default;var ew=Io(Bh());Ee.PostgrestTransformBuilder=ew.default;var tw=Io(Vh());Ee.PostgrestBuilder=tw.default;var nw=Io(Lh());Ee.PostgrestError=nw.default;Ee.default={PostgrestClient:J_.default,PostgrestQueryBuilder:Q_.default,PostgrestFilterBuilder:X_.default,PostgrestTransformBuilder:ew.default,PostgrestBuilder:tw.default,PostgrestError:nw.default}});var $l;function Rs(){return $l}function gt(n){let e=$l;return $l=n,e}var up=Symbol("NotFound");function br(n){return n===up||n?.name==="\u0275NotFound"}function Fs(n,e){return Object.is(n,e)}var be=null,Ns=!1,Hl=1,sD=null,Ce=Symbol("SIGNAL");function k(n){let e=be;return be=n,e}function Ls(){return be}var xn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cr(n){if(Ns)throw new Error("");if(be===null)return;be.consumerOnSignalRead(n);let e=be.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=be.recomputing;if(r&&(t=e!==void 0?e.nextProducer:be.producers,t!==void 0&&t.producer===n)){be.producersTail=t,t.lastReadVersion=n.version;return}let o=n.consumersTail;if(o!==void 0&&o.consumer===be&&(!r||cD(o,be)))return;let i=Sr(be),s={producer:n,consumer:be,nextProducer:t,prevConsumer:o,lastReadVersion:n.version,nextConsumer:void 0};be.producersTail=s,e!==void 0?e.nextProducer=s:be.producers=s,i&&fp(n,s)}function dp(){Hl++}function js(n){if(!(Sr(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Hl)){if(!n.producerMustRecompute(n)&&!Lo(n)){Ps(n);return}n.producerRecomputeValue(n),Ps(n)}}function zl(n){if(n.consumers===void 0)return;let e=Ns;Ns=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||aD(r)}}finally{Ns=e}}function Gl(){return be?.consumerAllowSignalWrites!==!1}function aD(n){n.dirty=!0,zl(n),n.consumerMarkedDirty?.(n)}function Ps(n){n.dirty=!1,n.lastCleanEpoch=Hl}function Rn(n){return n&&(n.producersTail=void 0,n.recomputing=!0),k(n)}function Ir(n,e){if(k(e),!n)return;n.recomputing=!1;let t=n.producersTail,r=t!==void 0?t.nextProducer:n.producers;if(r!==void 0){if(Sr(n))do r=ql(r);while(r!==void 0);t!==void 0?t.nextProducer=void 0:n.producers=void 0}}function Lo(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(js(t),r!==t.version))return!0}return!1}function jo(n){if(Sr(n)){let e=n.producers;for(;e!==void 0;)e=ql(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function fp(n,e){let t=n.consumersTail,r=Sr(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let o=n.producers;o!==void 0;o=o.nextProducer)fp(o.producer,o)}function ql(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,o=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Sr(e)){let i=e.producers;for(;i!==void 0;)i=ql(i)}return t}function Sr(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Vs(n){sD?.(n)}function cD(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Us(n,e){let t=Object.create(lD);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(js(t),Cr(t),t.value===Fo)throw t.error;return t.value};return r[Ce]=t,Vs(t),r}var Os=Symbol("UNSET"),ks=Symbol("COMPUTING"),Fo=Symbol("ERRORED"),lD=j(w({},xn),{value:Os,dirty:!0,error:null,equal:Fs,kind:"computed",producerMustRecompute(n){return n.value===Os||n.value===ks},producerRecomputeValue(n){if(n.value===ks)throw new Error("");let e=n.value;n.value=ks;let t=Rn(n),r,o=!1;try{r=n.computation(),k(null),o=e!==Os&&e!==Fo&&r!==Fo&&n.equal(e,r)}catch(i){r=Fo,n.error=i}finally{Ir(n,t)}if(o){n.value=e;return}n.value=r,n.version++}});function uD(){throw new Error}var hp=uD;function pp(n){hp(n)}function Wl(n){hp=n}var dD=null;function Kl(n,e){let t=Object.create(Bs);t.value=n,e!==void 0&&(t.equal=e);let r=()=>gp(t);return r[Ce]=t,Vs(t),[r,s=>Tr(t,s),s=>Zl(t,s)]}function gp(n){return Cr(n),n.value}function Tr(n,e){Gl()||pp(n),n.equal(n.value,e)||(n.value=e,fD(n))}function Zl(n,e){Gl()||pp(n),Tr(n,e(n.value))}var Bs=j(w({},xn),{equal:Fs,value:void 0,kind:"signal"});function fD(n){n.version++,dp(),zl(n),dD?.(n)}function R(n){return typeof n=="function"}function Mr(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var $s=Mr(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Vo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ie=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(R(r))try{r()}catch(i){e=i instanceof $s?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{mp(i)}catch(s){e=e??[],s instanceof $s?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $s(e)}}add(e){var t;if(e&&e!==this)if(this.closed)mp(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Vo(t,e)}remove(e){let{_finalizers:t}=this;t&&Vo(t,e),e instanceof n&&e._removeParent(this)}};ie.EMPTY=(()=>{let n=new ie;return n.closed=!0,n})();var Yl=ie.EMPTY;function Hs(n){return n instanceof ie||n&&"closed"in n&&R(n.remove)&&R(n.add)&&R(n.unsubscribe)}function mp(n){R(n)?n():n.unsubscribe()}var at={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ar={setTimeout(n,e,...t){let{delegate:r}=Ar;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ar;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function zs(n){Ar.setTimeout(()=>{let{onUnhandledError:e}=at;if(e)e(n);else throw n})}function Uo(){}var vp=Jl("C",void 0,void 0);function yp(n){return Jl("E",void 0,n)}function _p(n){return Jl("N",n,void 0)}function Jl(n,e,t){return{kind:n,value:e,error:t}}var Nn=null;function xr(n){if(at.useDeprecatedSynchronousErrorHandling){let e=!Nn;if(e&&(Nn={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Nn;if(Nn=null,t)throw r}}else n()}function wp(n){at.useDeprecatedSynchronousErrorHandling&&Nn&&(Nn.errorThrown=!0,Nn.error=n)}var On=class extends ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hs(e)&&e.add(this)):this.destination=gD}static create(e,t,r){return new Qt(e,t,r)}next(e){this.isStopped?Xl(_p(e),this):this._next(e)}error(e){this.isStopped?Xl(yp(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Xl(vp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hD=Function.prototype.bind;function Ql(n,e){return hD.call(n,e)}var eu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Gs(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Gs(r)}else Gs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Gs(t)}}},Qt=class extends On{constructor(e,t,r){super();let o;if(R(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&at.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Ql(e.next,i),error:e.error&&Ql(e.error,i),complete:e.complete&&Ql(e.complete,i)}):o=e}this.destination=new eu(o)}};function Gs(n){at.useDeprecatedSynchronousErrorHandling?wp(n):zs(n)}function pD(n){throw n}function Xl(n,e){let{onStoppedNotification:t}=at;t&&Ar.setTimeout(()=>t(n,e))}var gD={closed:!0,next:Uo,error:pD,complete:Uo};var Rr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ve(n){return n}function tu(...n){return nu(n)}function nu(n){return n.length===0?Ve:n.length===1?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}var L=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=vD(t)?t:new Qt(t,r,o);return xr(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Dp(r),new r((o,i)=>{let s=new Qt({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Rr](){return this}pipe(...t){return nu(t)(this)}toPromise(t){return t=Dp(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function Dp(n){var e;return(e=n??at.Promise)!==null&&e!==void 0?e:Promise}function mD(n){return n&&R(n.next)&&R(n.error)&&R(n.complete)}function vD(n){return n&&n instanceof On||mD(n)&&Hs(n)}function ru(n){return R(n?.lift)}function U(n){return e=>{if(ru(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(n,e,t,r,o){return new ou(n,e,t,r,o)}var ou=class extends On{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Nr(){return U((n,e)=>{let t=null;n._refCount++;let r=V(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Or=class extends L{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ru(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ie;let t=this.getSubject();e.add(this.source.subscribe(V(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ie.EMPTY)}return e}refCount(){return Nr()(this)}};var Ep=Mr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class n extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new qs(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ep}next(t){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Yl:(this.currentObservers=null,i.push(t),new ie(()=>{this.currentObservers=null,Vo(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new L;return t.source=this,t}}return n.create=(e,t)=>new qs(e,t),n})(),qs=class extends se{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Yl}};var me=class extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Pe=new L(n=>n.complete());function bp(n){return n&&R(n.schedule)}function Cp(n){return n[n.length-1]}function Ws(n){return R(Cp(n))?n.pop():void 0}function Xt(n){return bp(Cp(n))?n.pop():void 0}function Sp(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function Ip(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kn(n){return this instanceof kn?(this.v=n,this):new kn(n)}function Tp(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(m){return new Promise(function(v,y){i.push([f,m,v,y])>1||c(f,m)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(m){h(i[0][3],m)}}function l(f){f.value instanceof kn?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Mp(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ip=="function"?Ip(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,c){s=n[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var Ks=n=>n&&typeof n.length=="number"&&typeof n!="function";function Zs(n){return R(n?.then)}function Ys(n){return R(n[Rr])}function Js(n){return Symbol.asyncIterator&&R(n?.[Symbol.asyncIterator])}function Qs(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xs=yD();function ea(n){return R(n?.[Xs])}function ta(n){return Tp(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:o}=yield kn(t.read());if(o)return yield kn(void 0);yield yield kn(r)}}finally{t.releaseLock()}})}function na(n){return R(n?.getReader)}function ae(n){if(n instanceof L)return n;if(n!=null){if(Ys(n))return _D(n);if(Ks(n))return wD(n);if(Zs(n))return DD(n);if(Js(n))return Ap(n);if(ea(n))return ED(n);if(na(n))return bD(n)}throw Qs(n)}function _D(n){return new L(e=>{let t=n[Rr]();if(R(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wD(n){return new L(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function DD(n){return new L(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,zs)})}function ED(n){return new L(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Ap(n){return new L(e=>{CD(n,e).catch(t=>e.error(t))})}function bD(n){return Ap(ta(n))}function CD(n,e){var t,r,o,i;return Sp(this,void 0,void 0,function*(){try{for(t=Mp(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})}function Fe(n,e,t,r=0,o=!1){let i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function ra(n,e=0){return U((t,r)=>{t.subscribe(V(r,o=>Fe(r,n,()=>r.next(o),e),()=>Fe(r,n,()=>r.complete(),e),o=>Fe(r,n,()=>r.error(o),e)))})}function oa(n,e=0){return U((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function xp(n,e){return ae(n).pipe(oa(e),ra(e))}function Rp(n,e){return ae(n).pipe(oa(e),ra(e))}function Np(n,e){return new L(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Op(n,e){return new L(t=>{let r;return Fe(t,e,()=>{r=n[Xs](),Fe(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>R(r?.return)&&r.return()})}function ia(n,e){if(!n)throw new Error("Iterable cannot be null");return new L(t=>{Fe(t,e,()=>{let r=n[Symbol.asyncIterator]();Fe(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function kp(n,e){return ia(ta(n),e)}function Pp(n,e){if(n!=null){if(Ys(n))return xp(n,e);if(Ks(n))return Np(n,e);if(Zs(n))return Rp(n,e);if(Js(n))return ia(n,e);if(ea(n))return Op(n,e);if(na(n))return kp(n,e)}throw Qs(n)}function ee(n,e){return e?Pp(n,e):ae(n)}function S(...n){let e=Xt(n);return ee(n,e)}function kr(n,e){let t=R(n)?n:()=>n,r=o=>o.error(t());return new L(e?o=>e.schedule(r,0,o):r)}function iu(n){return!!n&&(n instanceof L||R(n.lift)&&R(n.subscribe))}var ct=Mr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function su(n,e){let t=typeof e=="object";return new Promise((r,o)=>{let i=new Qt({next:s=>{r(s),i.unsubscribe()},error:o,complete:()=>{t?r(e.defaultValue):o(new ct)}});n.subscribe(i)})}function M(n,e){return U((t,r)=>{let o=0;t.subscribe(V(r,i=>{r.next(n.call(e,i,o++))}))})}var{isArray:ID}=Array;function SD(n,e){return ID(e)?n(...e):n(e)}function sa(n){return M(e=>SD(n,e))}var{isArray:TD}=Array,{getPrototypeOf:MD,prototype:AD,keys:xD}=Object;function aa(n){if(n.length===1){let e=n[0];if(TD(e))return{args:e,keys:null};if(RD(e)){let t=xD(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function RD(n){return n&&typeof n=="object"&&MD(n)===AD}function ca(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function la(...n){let e=Xt(n),t=Ws(n),{args:r,keys:o}=aa(n);if(r.length===0)return ee([],e);let i=new L(ND(r,e,o?s=>ca(o,s):Ve));return t?i.pipe(sa(t)):i}function ND(n,e,t=Ve){return r=>{Fp(e,()=>{let{length:o}=n,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Fp(e,()=>{let l=ee(n[c],e),u=!1;l.subscribe(V(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Fp(n,e,t){n?Fe(t,n,e):e()}function Lp(n,e,t,r,o,i,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=m=>l<r?g(m):c.push(m),g=m=>{i&&e.next(m),l++;let v=!1;ae(t(m,u++)).subscribe(V(e,y=>{o?.(y),i?f(y):e.next(y)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let y=c.shift();s?Fe(e,s,()=>g(y)):g(y)}h()}catch(y){e.error(y)}}))};return n.subscribe(V(e,f,()=>{d=!0,h()})),()=>{a?.()}}function ce(n,e,t=1/0){return R(e)?ce((r,o)=>M((i,s)=>e(r,i,o,s))(ae(n(r,o))),t):(typeof e=="number"&&(t=e),U((r,o)=>Lp(r,o,n,t)))}function jp(n=1/0){return ce(Ve,n)}function Vp(){return jp(1)}function Pr(...n){return Vp()(ee(n,Xt(n)))}function Bo(n){return new L(e=>{ae(n()).subscribe(e)})}function au(...n){let e=Ws(n),{args:t,keys:r}=aa(n),o=new L(i=>{let{length:s}=t;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ae(t[u]).subscribe(V(i,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?ca(r,a):a),i.complete())}))}});return e?o.pipe(sa(e)):o}function Le(n,e){return U((t,r)=>{let o=0;t.subscribe(V(r,i=>n.call(e,i,o++)&&r.next(i)))})}function en(n){return U((e,t)=>{let r=null,o=!1,i;r=e.subscribe(V(t,void 0,void 0,s=>{i=ae(n(s,en(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function Up(n,e,t,r,o){return(i,s)=>{let a=t,c=e,l=0;i.subscribe(V(s,u=>{let d=l++;c=a?n(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function tn(n,e){return R(e)?ce(n,e,1):ce(n,1)}function nn(n){return U((e,t)=>{let r=!1;e.subscribe(V(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Ft(n){return n<=0?()=>Pe:U((e,t)=>{let r=0;e.subscribe(V(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function ua(n=OD){return U((e,t)=>{let r=!1;e.subscribe(V(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function OD(){return new ct}function Pn(n){return U((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Lt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Le((o,i)=>n(o,i,r)):Ve,Ft(1),t?nn(e):ua(()=>new ct))}function Fr(n){return n<=0?()=>Pe:U((e,t)=>{let r=[];e.subscribe(V(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function cu(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Le((o,i)=>n(o,i,r)):Ve,Fr(1),t?nn(e):ua(()=>new ct))}function lu(n,e){return U(Up(n,e,arguments.length>=2,!0))}function uu(...n){let e=Xt(n);return U((t,r)=>{(e?Pr(n,t,e):Pr(n,t)).subscribe(r)})}function Ie(n,e){return U((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe(V(r,c=>{o?.unsubscribe();let l=0,u=i++;ae(n(c,u)).subscribe(o=V(r,d=>r.next(e?e(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function da(n){return U((e,t)=>{ae(n).subscribe(V(t,()=>t.complete(),Uo)),!t.closed&&e.subscribe(t)})}function he(n,e,t){let r=R(n)||e||t?{next:n,error:e,complete:t}:n;return r?U((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(V(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ve}function Bp(n){let e=k(null);try{return n()}finally{k(e)}}var bu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(e,t){super(jr(e,t)),this.code=e}};function kD(n){return`NG0${Math.abs(n)}`}function jr(n,e){return`${kD(n)}${e?": "+e:""}`}function q(n){for(let e in n)if(n[e]===q)return e;throw Error("")}function zp(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Vt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Vt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Cu(n,e){return n?e?`${n} ${e}`:n:e||""}var PD=q({__forward_ref__:q});function Ut(n){return n.__forward_ref__=Ut,n.toString=function(){return Vt(this())},n}function ve(n){return Iu(n)?n():n}function Iu(n){return typeof n=="function"&&n.hasOwnProperty(PD)&&n.__forward_ref__===Ut}function Gp(n,e){n==null&&Su(e,n,null,"!=")}function Su(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function C(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vt(n){return{providers:n.providers||[],imports:n.imports||[]}}function qo(n){return FD(n,ma)}function Tu(n){return qo(n)!==null}function FD(n,e){return n.hasOwnProperty(e)&&n[e]||null}function LD(n){let e=n?.[ma]??null;return e||null}function fu(n){return n&&n.hasOwnProperty(ha)?n[ha]:null}var ma=q({\u0275prov:q}),ha=q({\u0275inj:q}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=C({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Mu(n){return n&&!!n.\u0275providers}var Au=q({\u0275cmp:q}),xu=q({\u0275dir:q}),Ru=q({\u0275pipe:q}),Nu=q({\u0275mod:q}),zo=q({\u0275fac:q}),Bn=q({__NG_ELEMENT_ID__:q}),$p=q({__NG_ENV_ID__:q});function Vr(n){return typeof n=="string"?n:n==null?"":String(n)}function pa(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Vr(n)}var Ou=q({ngErrorCode:q}),qp=q({ngErrorMessage:q}),Ho=q({ngTokenPath:q});function ku(n,e){return Wp("",-200,e)}function va(n,e){throw new D(-201,!1)}function jD(n,e){n[Ho]??=[];let t=n[Ho],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(Gp(e.provide,"Token with multi: true should have a provide property"),r=pa(e.provide)):r=pa(e),t[0]!==r&&n[Ho].unshift(r)}function VD(n,e){let t=n[Ho],r=n[Ou],o=n[qp]||n.message;return n.message=BD(o,r,t,e),n}function Wp(n,e,t){let r=new D(e,n);return r[Ou]=e,r[qp]=n,t&&(r[Ho]=t),r}function UD(n){return n[Ou]}function BD(n,e,t=[],r=null){let o="";t&&t.length>1&&(o=` Path: ${t.join(" -> ")}.`);let i=r?` Source: ${r}.`:"";return jr(e,`${n}${i}${o}`)}var hu;function Kp(){return hu}function Ue(n){let e=hu;return hu=n,e}function Pu(n,e,t){let r=qo(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;va(n,"Injector")}var $D={},Fn=$D,pu="__NG_DI_FLAG__",gu=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ln(t)||0;try{return this.injector.get(e,r&8?null:Fn,r)}catch(o){if(br(o))return o;throw o}}};function HD(n,e=0){let t=Rs();if(t===void 0)throw new D(-203,!1);if(t===null)return Pu(n,void 0,e);{let r=zD(e),o=t.retrieve(n,r);if(br(o)){if(r.optional)return null;throw o}return o}}function I(n,e=0){return(Kp()||HD)(ve(n),e)}function _(n,e){return I(n,Ln(e))}function Ln(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function zD(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function mu(n){let e=[];for(let t=0;t<n.length;t++){let r=ve(n[t]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=GD(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(I(o,i))}else e.push(I(r))}return e}function Fu(n,e){return n[pu]=e,n.prototype[pu]=e,n}function GD(n){return n[pu]}function jn(n,e){let t=n.hasOwnProperty(zo);return t?n[zo]:null}function Zp(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}function Yp(n){return n.flat(Number.POSITIVE_INFINITY)}function ya(n,e){n.forEach(t=>Array.isArray(t)?ya(t,e):e(t))}function Lu(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wo(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Jp(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(o===1)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;){let i=o-2;n[o]=n[i],o--}n[e]=t,n[e+1]=r}}function Qp(n,e,t){let r=Ur(n,e);return r>=0?n[r|1]=t:(r=~r,Jp(n,r,e,t)),r}function _a(n,e){let t=Ur(n,e);if(t>=0)return n[t|1]}function Ur(n,e){return qD(n,e,1)}function qD(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}var sn={},Be=[],an=new b(""),ju=new b("",-1),Vu=new b(""),Go=class{get(e,t=Fn){if(t===Fn){let o=Wp("",-201);throw o.name="\u0275NotFound",o}return t}};function Uu(n){return n[Nu]||null}function cn(n){return n[Au]||null}function Bu(n){return n[xu]||null}function Xp(n){return n[Ru]||null}function Br(n){return{\u0275providers:n}}function eg(...n){return{\u0275providers:$u(!0,n),\u0275fromNgModule:!0}}function $u(n,...e){let t=[],r=new Set,o,i=s=>{t.push(s)};return ya(e,s=>{let a=s;ga(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&tg(o,i),t}function tg(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:o}=n[t];Hu(o,i=>{e(i,r)})}}function ga(n,e,t,r){if(n=ve(n),!n)return!1;let o=null,i=fu(n),s=!i&&cn(n);if(!i&&!s){let c=n.ngModule;if(i=fu(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=n}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ga(l,e,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{ya(i.imports,u=>{ga(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&tg(l,e)}if(!a){let l=jn(o)||(()=>new o);e({provide:o,useFactory:l,deps:Be},o),e({provide:Vu,useValue:o,multi:!0},o),e({provide:an,useValue:()=>I(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=n;Hu(c,u=>{e(u,l)})}}else return!1;return o!==n&&n.providers!==void 0}function Hu(n,e){for(let t of n)Mu(t)&&(t=t.\u0275providers),Array.isArray(t)?Hu(t,e):e(t)}var WD=q({provide:String,useValue:q});function ng(n){return n!==null&&typeof n=="object"&&WD in n}function KD(n){return!!(n&&n.useExisting)}function ZD(n){return!!(n&&n.useFactory)}function Vn(n){return typeof n=="function"}function rg(n){return!!n.useClass}var Ko=new b(""),fa={},Hp={},du;function Zo(){return du===void 0&&(du=new Go),du}var le=class{},Un=class extends le{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,yu(e,s=>this.processProvider(s)),this.records.set(ju,Lr(void 0,this)),o.has("environment")&&this.records.set(le,Lr(void 0,this));let i=this.records.get(Ko);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Vu,Be,{self:!0}))}retrieve(e,t){let r=Ln(t)||0;try{return this.get(e,Fn,r)}catch(o){if(br(o))return o;throw o}}destroy(){$o(this),this._destroyed=!0;let e=k(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),k(e)}}onDestroy(e){return $o(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){$o(this);let t=gt(this),r=Ue(void 0),o;try{return e()}finally{gt(t),Ue(r)}}get(e,t=Fn,r){if($o(this),e.hasOwnProperty($p))return e[$p](this);let o=Ln(r),i,s=gt(this),a=Ue(void 0);try{if(!(o&4)){let l=this.records.get(e);if(l===void 0){let u=eE(e)&&qo(e);u&&this.injectableDefInScope(u)?l=Lr(vu(e),fa):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,o)}let c=o&2?Zo():this.parent;return t=o&8&&t===Fn?null:t,c.get(e,t)}catch(c){let l=UD(c);throw l===-200||l===-201?new D(l,null):c}finally{Ue(a),gt(s)}}resolveInjectorInitializers(){let e=k(null),t=gt(this),r=Ue(void 0),o;try{let i=this.get(an,Be,{self:!0});for(let s of i)s()}finally{gt(t),Ue(r),k(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Vt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ve(e);let t=Vn(e)?e:ve(e&&e.provide),r=JD(e);if(!Vn(e)&&e.multi===!0){let o=this.records.get(t);o||(o=Lr(void 0,fa,!0),o.factory=()=>mu(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let o=k(null);try{if(t.value===Hp)throw ku(Vt(e));return t.value===fa&&(t.value=Hp,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&XD(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{k(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ve(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vu(n){let e=qo(n),t=e!==null?e.factory:jn(n);if(t!==null)return t;if(n instanceof b)throw new D(204,!1);if(n instanceof Function)return YD(n);throw new D(204,!1)}function YD(n){if(n.length>0)throw new D(204,!1);let t=LD(n);return t!==null?()=>t.factory(n):()=>new n}function JD(n){if(ng(n))return Lr(void 0,n.useValue);{let e=zu(n);return Lr(e,fa)}}function zu(n,e,t){let r;if(Vn(n)){let o=ve(n);return jn(o)||vu(o)}else if(ng(n))r=()=>ve(n.useValue);else if(ZD(n))r=()=>n.useFactory(...mu(n.deps||[]));else if(KD(n))r=(o,i)=>I(ve(n.useExisting),i!==void 0&&i&8?8:void 0);else{let o=ve(n&&(n.useClass||n.provide));if(QD(n))r=()=>new o(...mu(n.deps));else return jn(o)||vu(o)}return r}function $o(n){if(n.destroyed)throw new D(205,!1)}function Lr(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function QD(n){return!!n.deps}function XD(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function eE(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function yu(n,e){for(let t of n)Array.isArray(t)?yu(t,e):t&&Mu(t)?yu(t.\u0275providers,e):e(t)}function ye(n,e){let t;n instanceof Un?($o(n),t=n):t=new gu(n);let r,o=gt(t),i=Ue(void 0);try{return e()}finally{gt(o),Ue(i)}}function og(){return Kp()!==void 0||Rs()!=null}var ut=0,T=1,A=2,pe=3,Ke=4,Ze=5,Yo=6,$r=7,Se=8,$n=9,Bt=10,te=11,Hr=12,Gu=13,Hn=14,Ye=15,ln=16,zn=17,yt=18,Jo=19,qu=20,jt=21,wa=22,Qo=23,$e=24,Da=25,He=26,ig=1;var un=7,Xo=8,Gn=9,Te=10;function _t(n){return Array.isArray(n)&&typeof n[ig]=="object"}function dt(n){return Array.isArray(n)&&n[ig]===!0}function Wu(n){return(n.flags&4)!==0}function dn(n){return n.componentOffset>-1}function ei(n){return(n.flags&1)===1}function wt(n){return!!n.template}function zr(n){return(n[A]&512)!==0}function qn(n){return(n[A]&256)===256}var sg="svg",ag="math";function Je(n){for(;Array.isArray(n);)n=n[ut];return n}function Ku(n,e){return Je(e[n])}function ft(n,e){return Je(e[n.index])}function Ea(n,e){return n.data[e]}function Qe(n,e){let t=e[n];return _t(t)?t:t[ut]}function cg(n){return(n[A]&4)===4}function ba(n){return(n[A]&128)===128}function lg(n){return dt(n[pe])}function ti(n,e){return e==null?null:n[e]}function Zu(n){n[zn]=0}function Yu(n){n[A]&1024||(n[A]|=1024,ba(n)&&ri(n))}function ug(n,e){for(;n>0;)e=e[Hn],n--;return e}function ni(n){return!!(n[A]&9216||n[$e]?.dirty)}function Ca(n){n[Bt].changeDetectionScheduler?.notify(8),n[A]&64&&(n[A]|=1024),ni(n)&&ri(n)}function ri(n){n[Bt].changeDetectionScheduler?.notify(0);let e=rn(n);for(;e!==null&&!(e[A]&8192||(e[A]|=8192,!ba(e)));)e=rn(e)}function Ju(n,e){if(qn(n))throw new D(911,!1);n[jt]===null&&(n[jt]=[]),n[jt].push(e)}function dg(n,e){if(n[jt]===null)return;let t=n[jt].indexOf(e);t!==-1&&n[jt].splice(t,1)}function rn(n){let e=n[pe];return dt(e)?e[pe]:e}function Qu(n){return n[$r]??=[]}function Xu(n){return n.cleanup??=[]}function fg(n,e,t,r){let o=Qu(e);o.push(t),n.firstCreatePass&&Xu(n).push(r,o.length-1)}var F={lFrame:Mg(null),bindingsEnabled:!0,skipHydrationRootTNode:null},oi=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(oi||{}),tE=0,_u=!1;function hg(){return F.lFrame.elementDepthCount}function pg(){F.lFrame.elementDepthCount++}function gg(){F.lFrame.elementDepthCount--}function ed(){return F.bindingsEnabled}function mg(){return F.skipHydrationRootTNode!==null}function vg(n){return F.skipHydrationRootTNode===n}function yg(){F.skipHydrationRootTNode=null}function W(){return F.lFrame.lView}function Me(){return F.lFrame.tView}function Xe(n){return F.lFrame.contextLView=n,n[Se]}function et(n){return F.lFrame.contextLView=null,n}function je(){let n=td();for(;n!==null&&n.type===64;)n=n.parent;return n}function td(){return F.lFrame.currentTNode}function _g(){let n=F.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Gr(n,e){let t=F.lFrame;t.currentTNode=n,t.isParent=e}function nd(){return F.lFrame.isParent}function wg(){F.lFrame.isParent=!1}function rd(n){Su("Must never be called in production mode"),tE=n}function od(){return _u}function id(n){let e=_u;return _u=n,e}function Dg(){return F.lFrame.bindingIndex}function Eg(n){return F.lFrame.bindingIndex=n}function ii(){return F.lFrame.bindingIndex++}function sd(n){let e=F.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function bg(){return F.lFrame.inI18n}function Cg(n,e){let t=F.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ia(e)}function Ig(){return F.lFrame.currentDirectiveIndex}function Ia(n){F.lFrame.currentDirectiveIndex=n}function Sg(n){let e=F.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ad(){return F.lFrame.currentQueryIndex}function Sa(n){F.lFrame.currentQueryIndex=n}function nE(n){let e=n[T];return e.type===2?e.declTNode:e.type===1?n[Ze]:null}function cd(n,e,t){if(t&4){let o=e,i=n;for(;o=o.parent,o===null&&!(t&1);)if(o=nE(i),o===null||(i=i[Hn],o.type&10))break;if(o===null)return!1;e=o,n=i}let r=F.lFrame=Tg();return r.currentTNode=e,r.lView=n,!0}function Ta(n){let e=Tg(),t=n[T];F.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Tg(){let n=F.lFrame,e=n===null?null:n.child;return e===null?Mg(n):e}function Mg(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Ag(){let n=F.lFrame;return F.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ld=Ag;function Ma(){let n=Ag();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xg(n){return(F.lFrame.contextLView=ug(n,F.lFrame.contextLView))[Se]}function fn(){return F.lFrame.selectedIndex}function hn(n){F.lFrame.selectedIndex=n}function Aa(){let n=F.lFrame;return Ea(n.tView,n.selectedIndex)}function Rg(){return F.lFrame.currentNamespace}var Ng=!0;function xa(){return Ng}function Ra(n){Ng=n}var rE={elements:void 0};function Na(){return rE}function wu(n,e=null,t=null,r){let o=ud(n,e,t,r);return o.resolveInjectorInitializers(),o}function ud(n,e=null,t=null,r,o=new Set){let i=[t||Be,eg(n)];return r=r||(typeof n=="object"?void 0:Vt(n)),new Un(i,e||Zo(),r||null,o)}var lt=class n{static THROW_IF_NOT_FOUND=Fn;static NULL=new Go;static create(e,t){if(Array.isArray(e))return wu({name:""},t,e,"");{let r=e.name??"";return wu({name:r},e.parent,e.providers,r)}}static \u0275prov=C({token:n,providedIn:"any",factory:()=>I(ju)});static __NG_ELEMENT_ID__=-1},ue=new b(""),pn=(()=>{class n{static __NG_ELEMENT_ID__=oE;static __NG_ENV_ID__=t=>t}return n})(),Du=class extends pn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return qn(this._lView)}onDestroy(e){let t=this._lView;return Ju(t,e),()=>dg(t,e)}};function oE(){return new Du(W())}var mt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ze=new b("",{providedIn:"root",factory:()=>{let n=_(le),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(mt),e.handleError(t))}}}),Og={provide:an,useValue:()=>void _(mt),multi:!0};function dd(n){return typeof n=="function"&&n[Ce]!==void 0}function Dt(n,e){let[t,r,o]=Kl(n,e?.equal),i=t,s=i[Ce];return i.set=r,i.update=o,i.asReadonly=kg.bind(i),i}function kg(){let n=this[Ce];if(n.readonlyFn===void 0){let e=()=>this();e[Ce]=n,n.readonlyFn=e}return n.readonlyFn}function fd(n){return dd(n)&&typeof n.set=="function"}var on=class{},Oa=new b("",{providedIn:"root",factory:()=>!1});var hd=new b(""),pd=new b("");var Et=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new me(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new L(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=C({token:n,providedIn:"root",factory:()=>new n})}return n})(),ka=(()=>{class n{internalPendingTasks=_(Et);scheduler=_(on);errorHandler=_(ze);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=C({token:n,providedIn:"root",factory:()=>new n})}return n})();function si(...n){}var gd=(()=>{class n{static \u0275prov=C({token:n,providedIn:"root",factory:()=>new Eu})}return n})(),Eu=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Jr(n){return{toString:n}.toString()}var Pa="__parameters__";function pE(n){return function(...t){if(n){let r=n(...t);for(let o in r)this[o]=r[o]}}}function fm(n,e,t){return Jr(()=>{let r=pE(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Pa)?c[Pa]:Object.defineProperty(c,Pa,{value:[]})[Pa];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var hm=Fu(fm("Optional"),8);var pm=Fu(fm("SkipSelf"),4);function gE(n){return typeof n=="function"}var Ba=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function gm(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Xn=(()=>{let n=()=>mm;return n.ngInherit=!0,n})();function mm(n){return n.type.prototype.ngOnChanges&&(n.setInput=vE),mE}function mE(){let n=ym(this),e=n?.current;if(e){let t=n.previous;if(t===sn)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function vE(n,e,t,r,o){let i=this.declaredInputs[r],s=ym(n)||yE(n,{previous:sn,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Ba(l&&l.currentValue,t,c===sn),gm(n,e,o,t)}var vm="__ngSimpleChanges__";function ym(n){return n[vm]||null}function yE(n,e){return n[vm]=e}var Pg=[];var Y=function(n,e=null,t){for(let r=0;r<Pg.length;r++){let o=Pg[r];o(n,e,t)}};function _E(n,e,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=mm(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}o&&(t.preOrderHooks??=[]).push(0-n,o),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}function _m(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function La(n,e,t){wm(n,e,3,t)}function ja(n,e,t,r){(n[A]&3)===t&&wm(n,e,t,r)}function md(n,e){let t=n[A];(t&3)===e&&(t&=16383,t+=1,n[A]=t)}function wm(n,e,t,r){let o=r!==void 0?n[zn]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[zn]+=65536),(a<i||i==-1)&&(wE(n,t,e,c),n[zn]=(n[zn]&4294901760)+c+2),c++}function Fg(n,e){Y(4,n,e);let t=k(null);try{e.call(n)}finally{k(t),Y(5,n,e)}}function wE(n,e,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=n[s];o?n[A]>>14<n[zn]>>16&&(n[A]&3)===e&&(n[A]+=16384,Fg(a,i)):Fg(a,i)}var Wr=-1,Kn=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=t,this.injectImpl=r}};function DE(n){return(n.flags&8)!==0}function EE(n){return(n.flags&16)!==0}function bE(n,e,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{let i=o,s=t[++r];IE(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function CE(n){return n===3||n===4||n===6}function IE(n){return n.charCodeAt(0)===64}function li(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?Lg(n,t,o,null,e[++r]):Lg(n,t,o,null,null))}}return n}function Lg(n,e,t,r,o){let i=0,s=n.length;if(e===-1)s=-1;else for(;i<n.length;){let a=n[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<n.length;){let a=n[i];if(typeof a=="number")break;if(a===t){o!==null&&(n[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),o!==null&&n.splice(i++,0,o)}function Dm(n){return n!==Wr}function $a(n){return n&32767}function SE(n){return n>>16}function Ha(n,e){let t=SE(n),r=e;for(;t>0;)r=r[Hn],t--;return r}var Sd=!0;function jg(n){let e=Sd;return Sd=n,e}var TE=256,Em=TE-1,bm=5,ME=0,bt={};function AE(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Bn)&&(r=t[Bn]),r==null&&(r=t[Bn]=ME++);let o=r&Em,i=1<<o;e.data[n+(o>>bm)]|=i}function za(n,e){let t=Cm(n,e);if(t!==-1)return t;let r=e[T];r.firstCreatePass&&(n.injectorIndex=e.length,vd(r.data,n),vd(e,null),vd(r.blueprint,null));let o=Qd(n,e),i=n.injectorIndex;if(Dm(o)){let s=$a(o),a=Ha(o,e),c=a[T].data;for(let l=0;l<8;l++)e[i+l]=a[s+l]|c[s+l]}return e[i+8]=o,i}function vd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Cm(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Qd(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;o!==null;){if(r=Am(o),r===null)return Wr;if(t++,o=o[Hn],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Wr}function Td(n,e,t){AE(n,e,t)}function Im(n,e,t){if(t&8||n!==void 0)return n;va(e,"NodeInjector")}function Sm(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let o=n[$n],i=Ue(void 0);try{return o?o.get(e,r,t&8):Pu(e,r,t&8)}finally{Ue(i)}}return Im(r,e,t)}function Tm(n,e,t,r=0,o){if(n!==null){if(e[A]&2048&&!(r&2)){let s=OE(n,e,t,r,bt);if(s!==bt)return s}let i=Mm(n,e,t,r,bt);if(i!==bt)return i}return Sm(e,t,r,o)}function Mm(n,e,t,r,o){let i=RE(t);if(typeof i=="function"){if(!cd(e,n,r))return r&1?Im(o,t,r):Sm(e,t,r,o);try{let s;if(s=i(r),s==null&&!(r&8))va(t);else return s}finally{ld()}}else if(typeof i=="number"){let s=null,a=Cm(n,e),c=Wr,l=r&1?e[Ye][Ze]:null;for((a===-1||r&4)&&(c=a===-1?Qd(n,e):e[a+8],c===Wr||!Ug(r,!1)?a=-1:(s=e[T],a=$a(c),e=Ha(c,e)));a!==-1;){let u=e[T];if(Vg(i,a,u.data)){let d=xE(a,e,t,s,r,l);if(d!==bt)return d}c=e[a+8],c!==Wr&&Ug(r,e[T].data[a+8]===l)&&Vg(i,a,e)?(s=u,a=$a(c),e=Ha(c,e)):a=-1}}return o}function xE(n,e,t,r,o,i){let s=e[T],a=s.data[n+8],c=r==null?dn(a)&&Sd:r!=s&&(a.type&3)!==0,l=o&1&&i===a,u=Va(a,s,t,c,l);return u!==null?ui(e,s,u,a,o):bt}function Va(n,e,t,r,o){let i=n.providerIndexes,s=e.data,a=i&1048575,c=n.directiveStart,l=n.directiveEnd,u=i>>20,d=r?a:a+u,h=o?a+u:l;for(let f=d;f<h;f++){let g=s[f];if(f<c&&t===g||f>=c&&g.type===t)return f}if(o){let f=s[c];if(f&&wt(f)&&f.type===t)return c}return null}function ui(n,e,t,r,o){let i=n[t],s=e.data;if(i instanceof Kn){let a=i;if(a.resolving){let f=pa(s[t]);throw ku(f)}let c=jg(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],u,d=a.injectImpl?Ue(a.injectImpl):null,h=cd(n,r,0);try{i=n[t]=a.factory(void 0,o,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&_E(t,s[t],e)}finally{d!==null&&Ue(d),jg(c),a.resolving=!1,ld()}}return i}function RE(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Bn)?n[Bn]:void 0;return typeof e=="number"?e>=0?e&Em:NE:e}function Vg(n,e,t){let r=1<<n;return!!(t[e+(n>>bm)]&r)}function Ug(n,e){return!(n&2)&&!(n&1&&e)}var Wn=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Tm(this._tNode,this._lView,e,Ln(r),t)}};function NE(){return new Wn(je(),W())}function er(n){return Jr(()=>{let e=n.prototype.constructor,t=e[zo]||Md(e),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[zo]||Md(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Md(n){return Iu(n)?()=>{let e=Md(ve(n));return e&&e()}:jn(n)}function OE(n,e,t,r,o){let i=n,s=e;for(;i!==null&&s!==null&&s[A]&2048&&!zr(s);){let a=Mm(i,s,t,r|2,bt);if(a!==bt)return a;let c=i.parent;if(!c){let l=s[qu];if(l){let u=l.get(t,bt,r);if(u!==bt)return u}c=Am(s),s=s[Hn]}i=c}return o}function Am(n){let e=n[T],t=e.type;return t===2?e.declTNode:t===1?n[Ze]:null}function kE(){return Qr(je(),W())}function Qr(n,e){return new Ht(ft(n,e))}var Ht=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=kE}return n})();function PE(n){return n instanceof Ht?n.nativeElement:n}function FE(){return this._results[Symbol.iterator]()}var Ga=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new se}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=Yp(e);(this._changesDetected=!Zp(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=FE};function xm(n){return(n.flags&128)===128}var Xd=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Xd||{}),Rm=new Map,LE=0;function jE(){return LE++}function VE(n){Rm.set(n[Jo],n)}function Ad(n){Rm.delete(n[Jo])}var Bg="__ngContext__";function Kr(n,e){_t(e)?(n[Bg]=e[Jo],VE(e)):n[Bg]=e}function Nm(n){return km(n[Hr])}function Om(n){return km(n[Ke])}function km(n){for(;n!==null&&!dt(n);)n=n[Ke];return n}var xd;function ef(n){xd=n}function Pm(){if(xd!==void 0)return xd;if(typeof document<"u")return document;throw new D(210,!1)}var tc=new b("",{providedIn:"root",factory:()=>UE}),UE="ng",nc=new b(""),Xr=new b("",{providedIn:"platform",factory:()=>"unknown"});var rc=new b("",{providedIn:"root",factory:()=>Pm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BE="h",$E="b";var Fm=!1,Lm=new b("",{providedIn:"root",factory:()=>Fm});var HE=(n,e,t,r)=>{};function zE(n,e,t,r){HE(n,e,t,r)}function tf(n){return(n.flags&32)===32}var GE=()=>null;function jm(n,e,t=!1){return GE(n,e,t)}function Vm(n,e){let t=n.contentQueries;if(t!==null){let r=k(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=n.data[s];Sa(i),a.contentQueries(2,e[s],s)}}}finally{k(r)}}}function Rd(n,e,t){Sa(0);let r=k(null);try{e(n,t)}finally{k(r)}}function Um(n,e,t){if(Wu(e)){let r=k(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{k(r)}}}var $t=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})($t||{});var Nd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bu})`}};function Bm(n){return n instanceof Nd?n.changingThisBreaksApplicationSecurity:n}function $m(n){return n instanceof Function?n():n}function qE(n,e,t){let r=n.length;for(;;){let o=n.indexOf(e,t);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}var Hm="ng-template";function WE(n,e,t,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&qE(e[o+1].toLowerCase(),t,0)!==-1)return!0}else if(nf(n))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function nf(n){return n.type===4&&n.value!==Hm}function KE(n,e,t){let r=n.type===4&&!t?Hm:n.value;return e===r}function ZE(n,e,t){let r=4,o=n.attrs,i=o!==null?QE(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ht(r)&&!ht(c))return!1;if(s&&ht(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!KE(n,c,t)||c===""&&e.length===1){if(ht(r))return!1;s=!0}}else if(r&8){if(o===null||!WE(n,o,c,t)){if(ht(r))return!1;s=!0}}else{let l=e[++a],u=YE(c,o,nf(n),t);if(u===-1){if(ht(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(ht(r))return!1;s=!0}}}}return ht(r)||s}function ht(n){return(n&1)===0}function YE(n,e,t,r){if(e===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){let s=e[o];if(s===n)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return XE(e,n)}function JE(n,e,t=!1){for(let r=0;r<e.length;r++)if(ZE(n,e[r],t))return!0;return!1}function QE(n){for(let e=0;e<n.length;e++){let t=n[e];if(CE(t))return e}return n.length}function XE(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function $g(n,e){return n?":not("+e.trim()+")":e}function eb(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!ht(s)&&(e+=$g(i,o),o=""),r=s,i=i||!ht(r);t++}return o!==""&&(e+=$g(i,o)),e}function tb(n){return n.map(eb).join(",")}function nb(n){let e=[],t=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&e.push(i,n[++r]):o===8&&t.push(i);else{if(!ht(o))break;o=i}r++}return t.length&&e.push(1,...t),e}var It={};function rb(n,e){return n.createText(e)}function ob(n,e,t){n.setValue(e,t)}function zm(n,e,t){return n.createElement(e,t)}function qa(n,e,t,r,o){n.insertBefore(e,t,r,o)}function Gm(n,e,t){n.appendChild(e,t)}function Hg(n,e,t,r,o){r!==null?qa(n,e,t,r,o):Gm(n,e,t)}function ib(n,e,t){n.removeChild(null,e,t)}function sb(n,e,t){n.setAttribute(e,"style",t)}function ab(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function qm(n,e,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&bE(n,e,r),o!==null&&ab(n,e,o),i!==null&&sb(n,e,i)}function rf(n,e,t,r,o,i,s,a,c,l,u){let d=He+r,h=d+o,f=cb(d,h),g=typeof l=="function"?l():l;return f[T]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function cb(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:It);return t}function lb(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=rf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function of(n,e,t,r,o,i,s,a,c,l,u){let d=e.blueprint.slice();return d[ut]=o,d[A]=r|4|128|8|64|1024,(l!==null||n&&n[A]&2048)&&(d[A]|=2048),Zu(d),d[pe]=d[Hn]=n,d[Se]=t,d[Bt]=s||n&&n[Bt],d[te]=a||n&&n[te],d[$n]=c||n&&n[$n]||null,d[Ze]=i,d[Jo]=jE(),d[Yo]=u,d[qu]=l,d[Ye]=e.type==2?n[Ye]:d,d}function ub(n,e,t){let r=ft(e,n),o=lb(t),i=n[Bt].rendererFactory,s=sf(n,of(n,o,null,Wm(t),r,e,null,i.createRenderer(r,t),null,null,null));return n[e.index]=s}function Wm(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Km(n,e,t,r){if(t===0)return-1;let o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function sf(n,e){return n[Hr]?n[Gu][Ke]=e:n[Hr]=e,n[Gu]=e,e}function K(n=1){Zm(Me(),W(),fn()+n,!1)}function Zm(n,e,t,r){if(!r)if((e[A]&3)===3){let i=n.preOrderCheckHooks;i!==null&&La(e,i,t)}else{let i=n.preOrderHooks;i!==null&&ja(e,i,0,t)}hn(t)}var oc=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(oc||{});function Od(n,e,t,r){let o=k(null);try{let[i,s,a]=n.inputs[t],c=null;(s&oc.SignalBased)!==0&&(c=e[i][Ce]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,i):gm(e,c,i,r)}finally{k(o)}}var Ct=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ct||{}),db;function af(n,e){return db(n,e)}function qr(n,e,t,r,o){if(r!=null){let i,s=!1;dt(r)?i=r:_t(r)&&(s=!0,r=r[ut]);let a=Je(r);n===0&&t!==null?o==null?Gm(e,t,a):qa(e,t,a,o||null,!0):n===1&&t!==null?qa(e,t,a,o||null,!0):n===2?ib(e,a,s):n===3&&e.destroyNode(a),i!=null&&bb(e,n,i,t,o)}}function fb(n,e){Ym(n,e),e[ut]=null,e[Ze]=null}function hb(n,e,t,r,o,i){r[ut]=o,r[Ze]=e,ic(n,r,t,1,o,i)}function Ym(n,e){e[Bt].changeDetectionScheduler?.notify(9),ic(n,e,e[te],2,null,null)}function pb(n){let e=n[Hr];if(!e)return yd(n[T],n);for(;e;){let t=null;if(_t(e))t=e[Hr];else{let r=e[Te];r&&(t=r)}if(!t){for(;e&&!e[Ke]&&e!==n;)_t(e)&&yd(e[T],e),e=e[pe];e===null&&(e=n),_t(e)&&yd(e[T],e),t=e&&e[Ke]}e=t}}function cf(n,e){let t=n[Gn],r=t.indexOf(e);t.splice(r,1)}function Jm(n,e){if(qn(e))return;let t=e[te];t.destroyNode&&ic(n,e,t,3,null,null),pb(e)}function yd(n,e){if(qn(e))return;let t=k(null);try{e[A]&=-129,e[A]|=256,e[$e]&&jo(e[$e]),mb(n,e),gb(n,e),e[T].type===1&&e[te].destroy();let r=e[ln];if(r!==null&&dt(e[pe])){r!==e[pe]&&cf(r,e);let o=e[yt];o!==null&&o.detachView(n)}Ad(e)}finally{k(t)}}function gb(n,e){let t=n.cleanup,r=e[$r];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[$r]=null);let o=e[jt];if(o!==null){e[jt]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[Qo];if(i!==null){e[Qo]=null;for(let s of i)s.destroy()}}function mb(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=e[t[r]];if(!(o instanceof Kn)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];Y(4,a,c);try{c.call(a)}finally{Y(5,a,c)}}else{Y(4,o,i);try{i.call(o)}finally{Y(5,o,i)}}}}}function vb(n,e,t){return yb(n,e.parent,t)}function yb(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ut];if(dn(r)){let{encapsulation:o}=n.data[r.directiveStart+r.componentOffset];if(o===$t.None||o===$t.Emulated)return null}return ft(r,t)}function _b(n,e,t){return Db(n,e,t)}function wb(n,e,t){return n.type&40?ft(n,t):null}var Db=wb,zg;function lf(n,e,t,r){let o=vb(n,r,e),i=e[te],s=r.parent||e[Ze],a=_b(s,r,e);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Hg(i,o,t[c],a,!1);else Hg(i,o,t,a,!1);zg!==void 0&&zg(i,r,e,t,o)}function ai(n,e){if(e!==null){let t=e.type;if(t&3)return ft(e,n);if(t&4)return kd(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ai(n,r);{let o=n[e.index];return dt(o)?kd(-1,o):Je(o)}}else{if(t&128)return ai(n,e.next);if(t&32)return af(e,n)()||Je(n[e.index]);{let r=Qm(n,e);if(r!==null){if(Array.isArray(r))return r[0];let o=rn(n[Ye]);return ai(o,r)}else return ai(n,e.next)}}}return null}function Qm(n,e){if(e!==null){let r=n[Ye][Ze],o=e.projection;return r.projection[o]}return null}function kd(n,e){let t=Te+n+1;if(t<e.length){let r=e[t],o=r[T].firstChild;if(o!==null)return ai(r,o)}return e[un]}function uf(n,e,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Kr(Je(a),r),t.flags|=2),!tf(t))if(c&8)uf(n,e,t.child,r,o,i,!1),qr(e,n,o,a,i);else if(c&32){let l=af(t,r),u;for(;u=l();)qr(e,n,o,u,i);qr(e,n,o,a,i)}else c&16?Eb(n,e,r,t,o,i):qr(e,n,o,a,i);t=s?t.projectionNext:t.next}}function ic(n,e,t,r,o,i){uf(t,r,n.firstChild,e,o,i,!1)}function Eb(n,e,t,r,o,i){let s=t[Ye],c=s[Ze].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];qr(e,n,o,u,i)}else{let l=c,u=s[pe];xm(r)&&(l.flags|=128),uf(n,e,l,u,o,i,!0)}}function bb(n,e,t,r,o){let i=t[un],s=Je(t);i!==s&&qr(e,n,r,i,o);for(let a=Te;a<t.length;a++){let c=t[a];ic(c[T],c,n,e,r,i)}}function Cb(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:Ct.DashCase;o==null?n.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ct.Important),n.setStyle(t,r,o,i))}}function Xm(n,e,t,r,o){let i=fn(),s=r&2;try{hn(-1),s&&e.length>He&&Zm(n,e,He,!1),Y(s?2:0,o,t),t(r,o)}finally{hn(i),Y(s?3:1,o,t)}}function df(n,e,t){Rb(n,e,t),(t.flags&64)===64&&Nb(n,e,t)}function ev(n,e,t=ft){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(e,n):n[s];n[o++]=a}}}function Ib(n,e,t,r){let i=r.get(Lm,Fm)||t===$t.ShadowDom,s=n.selectRootElement(e,i);return Sb(s),s}function Sb(n){Tb(n)}var Tb=()=>null;function Mb(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function tv(n,e,t,r,o,i){let s=e[T];if(ff(n,s,e,t,r)){dn(n)&&xb(e,n.index);return}n.type&3&&(t=Mb(t)),Ab(n,e,t,r,o,i)}function Ab(n,e,t,r,o,i){if(n.type&3){let s=ft(n,e);r=i!=null?i(r,n.value||"",t):r,o.setProperty(s,t,r)}else n.type&12}function xb(n,e){let t=Qe(e,n);t[A]&16||(t[A]|=64)}function Rb(n,e,t){let r=t.directiveStart,o=t.directiveEnd;dn(t)&&ub(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||za(t,e);let i=t.initialInputs;for(let s=r;s<o;s++){let a=n.data[s],c=ui(e,n,s,t);if(Kr(c,e),i!==null&&Fb(e,s-r,c,a,t,i),wt(a)){let l=Qe(t.index,e);l[Se]=ui(e,n,s,t)}}}function Nb(n,e,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=Ig();try{hn(i);for(let a=r;a<o;a++){let c=n.data[a],l=e[a];Ia(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ob(c,l)}}finally{hn(-1),Ia(s)}}function Ob(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function nv(n,e){let t=n.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];JE(e,i.selectors,!1)&&(r??=[],wt(i)?r.unshift(i):r.push(i))}return r}function kb(n,e,t,r,o,i){let s=ft(n,e);Pb(e[te],s,i,n.value,t,r,o)}function Pb(n,e,t,r,o,i,s){if(i==null)n.removeAttribute(e,o,t);else{let a=s==null?Vr(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}function Fb(n,e,t,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Od(r,t,c,l)}}function Lb(n,e,t,r,o){let i=He+t,s=e[T],a=o(s,e,n,r,t);e[i]=a,Gr(n,!0);let c=n.type===2;return c?(qm(e[te],a,n),(hg()===0||ei(n))&&Kr(a,e),pg()):Kr(a,e),xa()&&(!c||!tf(n))&&lf(s,e,a,n),n}function jb(n){let e=n;return nd()?wg():(e=e.parent,Gr(e,!1)),e}function Vb(n,e){let t=n[$n];if(!t)return;t.get(ze,null)?.(e)}function ff(n,e,t,r,o){let i=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];Od(d,t[l],u,o),a=!0}if(i)for(let c of i){let l=t[c],u=e.data[c];Od(u,l,r,o),a=!0}return a}function Ub(n,e){let t=Qe(e,n),r=t[T];Bb(r,t);let o=t[ut];o!==null&&t[Yo]===null&&(t[Yo]=jm(o,t[$n])),Y(18),hf(r,t,t[Se]),Y(19,t[Se])}function Bb(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function hf(n,e,t){Ta(e);try{let r=n.viewQuery;r!==null&&Rd(1,r,t);let o=n.template;o!==null&&Xm(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[yt]?.finishViewCreation(n),n.staticContentQueries&&Vm(n,e),n.staticViewQueries&&Rd(2,n.viewQuery,t);let i=n.components;i!==null&&$b(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[A]&=-5,Ma()}}function $b(n,e){for(let t=0;t<e.length;t++)Ub(n,e[t])}function Hb(n,e,t,r){let o=k(null);try{let i=e.tView,a=n[A]&4096?4096:16,c=of(n,i,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[ln]=l;let u=n[yt];return u!==null&&(c[yt]=u.createEmbeddedView(i)),hf(i,c,t),c}finally{k(o)}}function Gg(n,e){return!e||e.firstChild===null||xm(n)}var qg=!1,zb=new b("");function di(n,e,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=e[t.index];i!==null&&r.push(Je(i)),dt(i)&&rv(i,r);let s=t.type;if(s&8)di(n,e,t.child,r);else if(s&32){let a=af(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Qm(e,t);if(Array.isArray(a))r.push(...a);else{let c=rn(e[Ye]);di(c[T],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function rv(n,e){for(let t=Te;t<n.length;t++){let r=n[t],o=r[T].firstChild;o!==null&&di(r[T],r,o,e)}n[un]!==n[ut]&&e.push(n[un])}function ov(n){if(n[Da]!==null){for(let e of n[Da])e.impl.addSequence(e);n[Da].length=0}}var iv=[];function Gb(n){return n[$e]??qb(n)}function qb(n){let e=iv.pop()??Object.create(Kb);return e.lView=n,e}function Wb(n){n.lView[$e]!==n&&(n.lView=null,iv.push(n))}var Kb=j(w({},xn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ri(n.lView)},consumerOnSignalRead(){this.lView[$e]=this}});function Zb(n){let e=n[$e]??Object.create(Yb);return e.lView=n,e}var Yb=j(w({},xn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=rn(n.lView);for(;e&&!sv(e[T]);)e=rn(e);e&&Yu(e)},consumerOnSignalRead(){this.lView[$e]=this}});function sv(n){return n.type!==2}function av(n){if(n[Qo]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Qo])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[A]&8192)}}var Jb=100;function pf(n,e=0){let r=n[Bt].rendererFactory,o=!1;o||r.begin?.();try{Qb(n,e)}finally{o||r.end?.()}}function Qb(n,e){let t=od();try{id(!0),Pd(n,e);let r=0;for(;ni(n);){if(r===Jb)throw new D(103,!1);r++,Pd(n,1)}}finally{id(t)}}function cv(n,e){rd(e?oi.Exhaustive:oi.OnlyDirtyViews);try{pf(n)}finally{rd(oi.Off)}}function Xb(n,e,t,r){if(qn(e))return;let o=e[A],i=!1,s=!1;Ta(e);let a=!0,c=null,l=null;i||(sv(n)?(l=Gb(e),c=Rn(l)):Ls()===null?(a=!1,l=Zb(e),c=Rn(l)):e[$e]&&(jo(e[$e]),e[$e]=null));try{Zu(e),Eg(n.bindingStartIndex),t!==null&&Xm(n,e,t,2,r);let u=(o&3)===3;if(!i)if(u){let f=n.preOrderCheckHooks;f!==null&&La(e,f,null)}else{let f=n.preOrderHooks;f!==null&&ja(e,f,0,null),md(e,0)}if(s||eC(e),av(e),lv(e,0),n.contentQueries!==null&&Vm(n,e),!i)if(u){let f=n.contentCheckHooks;f!==null&&La(e,f)}else{let f=n.contentHooks;f!==null&&ja(e,f,1),md(e,1)}nC(n,e);let d=n.components;d!==null&&dv(e,d,0);let h=n.viewQuery;if(h!==null&&Rd(2,h,r),!i)if(u){let f=n.viewCheckHooks;f!==null&&La(e,f)}else{let f=n.viewHooks;f!==null&&ja(e,f,2),md(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[wa]){for(let f of e[wa])f();e[wa]=null}i||(ov(e),e[A]&=-73)}catch(u){throw i||ri(e),u}finally{l!==null&&(Ir(l,c),a&&Wb(l)),Ma()}}function lv(n,e){for(let t=Nm(n);t!==null;t=Om(t))for(let r=Te;r<t.length;r++){let o=t[r];uv(o,e)}}function eC(n){for(let e=Nm(n);e!==null;e=Om(e)){if(!(e[A]&2))continue;let t=e[Gn];for(let r=0;r<t.length;r++){let o=t[r];Yu(o)}}}function tC(n,e,t){Y(18);let r=Qe(e,n);uv(r,t),Y(19,r[Se])}function uv(n,e){ba(n)&&Pd(n,e)}function Pd(n,e){let r=n[T],o=n[A],i=n[$e],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Lo(i)),s||=!1,i&&(i.dirty=!1),n[A]&=-9217,s)Xb(r,n,r.template,n[Se]);else if(o&8192){let a=k(null);try{av(n),lv(n,1);let c=r.components;c!==null&&dv(n,c,1),ov(n)}finally{k(a)}}}function dv(n,e,t){for(let r=0;r<e.length;r++)tC(n,e[r],t)}function nC(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)hn(~o);else{let i=o,s=t[++r],a=t[++r];Cg(s,i);let c=e[i];Y(24,c),a(2,c),Y(25,c)}}}finally{hn(-1)}}function gf(n,e){let t=od()?64:1088;for(n[Bt].changeDetectionScheduler?.notify(e);n;){n[A]|=t;let r=rn(n);if(zr(n)&&!r)return n;n=r}return null}function fv(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function rC(n,e,t,r=!0){let o=e[T];if(oC(o,e,n,t),r){let s=kd(t,n),a=e[te],c=a.parentNode(n[un]);c!==null&&hb(o,n[Ze],a,e,c,s)}let i=e[Yo];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Fd(n,e){if(n.length<=Te)return;let t=Te+e,r=n[t];if(r){let o=r[ln];o!==null&&o!==n&&cf(o,r),e>0&&(n[t-1][Ke]=r[Ke]);let i=Wo(n,Te+e);fb(r[T],r);let s=i[yt];s!==null&&s.detachView(i[T]),r[pe]=null,r[Ke]=null,r[A]&=-129}return r}function oC(n,e,t,r){let o=Te+r,i=t.length;r>0&&(t[o-1][Ke]=e),r<i-Te?(e[Ke]=t[o],Lu(t,Te+r,e)):(t.push(e),e[Ke]=null),e[pe]=t;let s=e[ln];s!==null&&t!==s&&hv(s,e);let a=e[yt];a!==null&&a.insertView(n),Ca(e),e[A]|=128}function hv(n,e){let t=n[Gn],r=e[pe];if(_t(r))n[A]|=2;else{let o=r[pe][Ye];e[Ye]!==o&&(n[A]|=2)}t===null?n[Gn]=[e]:t.push(e)}var gn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[T];return di(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Se]}set context(e){this._lView[Se]=e}get destroyed(){return qn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pe];if(dt(e)){let t=e[Xo],r=t?t.indexOf(this):-1;r>-1&&(Fd(e,r),Wo(t,r))}this._attachedToViewContainer=!1}Jm(this._lView[T],this._lView)}onDestroy(e){Ju(this._lView,e)}markForCheck(){gf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[A]&=-129}reattach(){Ca(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,pf(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zr(this._lView),t=this._lView[ln];t!==null&&!e&&cf(t,this._lView),Ym(this._lView[T],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e;let t=zr(this._lView),r=this._lView[ln];r!==null&&!t&&hv(r,this._lView),Ca(this._lView)}};var mn=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=iC;constructor(t,r,o){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){let i=Hb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new gn(i)}}return n})();function iC(){return mf(je(),W())}function mf(n,e){return n.type&4?new mn(e,n,Qr(n,e)):null}function vf(n,e,t,r,o){let i=n.data[e];if(i===null)i=sC(n,e,t,r,o),bg()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=_g();i.injectorIndex=s===null?-1:s.injectorIndex}return Gr(i,!0),i}function sC(n,e,t,r,o){let i=td(),s=nd(),a=s?i:i&&i.parent,c=n.data[e]=cC(n,a,t,e,r,o);return aC(n,c,i,s),c}function aC(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function cC(n,e,t,r,o,i){let s=e?e.injectorIndex:-1,a=0;return mg()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var QF=new RegExp(`^(\\d+)*(${$E}|${BE})*(.*)`);var lC=()=>null;function Wg(n,e){return lC(n,e)}var pv=class{},sc=class{},Ld=class{resolveComponentFactory(e){throw new D(917,!1)}},pi=class{static NULL=new Ld},Zn=class{},gi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>uC()}return n})();function uC(){let n=W(),e=je(),t=Qe(e.index,n);return(_t(t)?t:n)[te]}var gv=(()=>{class n{static \u0275prov=C({token:n,providedIn:"root",factory:()=>null})}return n})();var Ua={},jd=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let o=this.injector.get(e,Ua,r);return o!==Ua||t===Ua?o:this.parentInjector.get(e,t,r)}};function Kg(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=Cu(o,a);else if(i==2){let c=a,l=e[++s];r=Cu(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function H(n,e=0){let t=W();if(t===null)return I(n,e);let r=je();return Tm(r,t,ve(n),e)}function mv(n,e,t,r,o){let i=r===null?null:{"":-1},s=o(n,t);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}hC(n,e,t,a,i,c,l)}i!==null&&r!==null&&dC(t,r,i)}function dC(n,e,t){let r=n.localNames=[];for(let o=0;o<e.length;o+=2){let i=t[e[o+1]];if(i==null)throw new D(-301,!1);r.push(e[o],i)}}function fC(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function hC(n,e,t,r,o,i,s){let a=r.length,c=!1;for(let h=0;h<a;h++){let f=r[h];!c&&wt(f)&&(c=!0,fC(n,t,h)),Td(za(t,e),n,f.type)}_C(t,n.data.length,a);for(let h=0;h<a;h++){let f=r[h];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=Km(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let h=0;h<a;h++){let f=r[h];if(t.mergedAttrs=li(t.mergedAttrs,f.hostAttrs),gC(n,t,e,d,f),yC(d,f,o),s!==null&&s.has(f)){let[m,v]=s.get(f);t.directiveToIndex.set(f.type,[d,m+t.directiveStart,v+t.directiveStart])}else(i===null||!i.has(f))&&t.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),d++}pC(n,t,i)}function pC(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=n.data[r];if(t===null||!t.has(o))Zg(0,e,o,r),Zg(1,e,o,r),Jg(e,r,!1);else{let i=t.get(o);Yg(0,e,i,r),Yg(1,e,i,r),Jg(e,r,!0)}}}function Zg(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),vv(e,i)}}function Yg(n,e,t,r){let o=n===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),vv(e,s)}}function vv(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Jg(n,e,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=n;if(r===null||!t&&o===null||t&&i===null||nf(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function gC(n,e,t,r,o){n.data[r]=o;let i=o.factory||(o.factory=jn(o.type,!0)),s=new Kn(i,wt(o),H,null);n.blueprint[r]=s,t[r]=s,mC(n,e,r,Km(n,t,o.hostVars,It),o)}function mC(n,e,t,r,o){let i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;vC(s)!=a&&s.push(a),s.push(t,r,i)}}function vC(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function yC(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;wt(e)&&(t[""]=n)}}function _C(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function yv(n,e,t,r,o,i,s,a){let c=e[T],l=c.consts,u=ti(l,s),d=vf(c,n,t,r,u);return i&&mv(c,e,d,ti(l,a),o),d.mergedAttrs=li(d.mergedAttrs,d.attrs),d.attrs!==null&&Kg(d,d.attrs,!1),d.mergedAttrs!==null&&Kg(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function _v(n,e){_m(n,e),Wu(e)&&n.queries.elementEnd(e)}function yf(n){return Dv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function wv(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Dv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Yn(n,e,t){if(t===It)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function wC(n,e,t,r){let o=Yn(n,e,t);return Yn(n,e+1,r)||o}function _d(n,e,t){return function r(o){let i=dn(n)?Qe(n.index,e):e;gf(i,5);let s=e[Se],a=Qg(e,s,t,o),c=r.__ngNextListenerFn__;for(;c;)a=Qg(e,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Qg(n,e,t,r){let o=k(null);try{return Y(6,e,t),t(r)!==!1}catch(i){return Vb(n,i),!1}finally{Y(7,e,t),k(o)}}function DC(n,e,t,r,o,i,s,a){let c=ei(n),l=!1,u=null;if(!r&&c&&(u=EC(e,t,i,n.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=ft(n,t),h=r?r(d):d;zE(t,h,i,a);let f=o.listen(h,i,a),g=r?m=>r(Je(m[n.index])):n.index;Ev(g,e,t,i,a,f,!1)}return l}function EC(n,e,t,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=e[$r],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Ev(n,e,t,r,o,i,s){let a=e.firstCreatePass?Xu(e):null,c=Qu(t),l=c.length;c.push(o,i),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function Xg(n,e,t,r,o,i){let s=e[t],a=e[T],l=a.data[t].outputs[r],d=s[l].subscribe(i);Ev(n.index,a,e,o,i,d,!0)}var Vd=Symbol("BINDING");var Wa=class extends pi{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=cn(e);return new Zr(t,this.ngModule)}};function bC(n){return Object.keys(n).map(e=>{let[t,r,o]=n[e],i={propName:t,templateName:e,isSignal:(r&oc.SignalBased)!==0};return o&&(i.transform=o),i})}function CC(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function IC(n,e,t){let r=e instanceof le?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new jd(t,r):t}function SC(n){let e=n.get(Zn,null);if(e===null)throw new D(407,!1);let t=n.get(gv,null),r=n.get(on,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function TC(n,e){let t=bv(n);return zm(e,t,t==="svg"?sg:t==="math"?ag:null)}function bv(n){return(n.selectors[0][0]||"div").toLowerCase()}var Zr=class extends sc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=bC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=CC(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=tb(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,o,i,s){Y(22);let a=k(null);try{let c=this.componentDef,l=MC(r,c,s,i),u=IC(c,o||this.ngModule,e),d=SC(u),h=d.rendererFactory.createRenderer(null,c),f=r?Ib(h,r,c.encapsulation,u):TC(c,h),g=s?.some(em)||i?.some(y=>typeof y!="function"&&y.bindings.some(em)),m=of(null,l,null,512|Wm(c),null,null,d,h,u,null,jm(f,u,!0));m[He]=f,Ta(m);let v=null;try{let y=yv(He,m,2,"#host",()=>l.directiveRegistry,!0,0);f&&(qm(h,f,y),Kr(f,m)),df(l,m,y),Um(l,y,m),_v(l,y),t!==void 0&&xC(y,this.ngContentSelectors,t),v=Qe(y.index,m),m[Se]=v[Se],hf(l,m,null)}catch(y){throw v!==null&&Ad(v),Ad(m),y}finally{Y(23),Ma()}return new Ka(this.componentType,m,!!g)}finally{k(a)}}};function MC(n,e,t,r){let o=n?["ng-version","20.2.1"]:nb(e.selectors[0]),i=null,s=null,a=0;if(t)for(let u of t)a+=u[Vd].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let h of d.bindings){a+=h[Vd].requiredVars;let f=u+1;h.create&&(h.targetIdx=f,(i??=[]).push(h)),h.update&&(h.targetIdx=f,(s??=[]).push(h))}}let c=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,h=Bu(d);c.push(h)}return rf(0,null,AC(i,s),1,a,c,null,null,null,[o],null)}function AC(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function em(n){let e=n[Vd].kind;return e==="input"||e==="twoWay"}var Ka=class extends pv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ea(t[T],He),this.location=Qr(this._tNode,t),this.instance=Qe(this._tNode.index,t)[Se],this.hostView=this.changeDetectorRef=new gn(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView,i=ff(r,o[T],o,e,t);this.previousInputValues.set(e,t);let s=Qe(r.index,o);gf(s,1)}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xC(n,e,t){let r=n.projection=[];for(let o=0;o<e.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var zt=(()=>{class n{static __NG_ELEMENT_ID__=RC}return n})();function RC(){let n=je();return Iv(n,W())}var NC=zt,Cv=class extends NC{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Qr(this._hostTNode,this._hostLView)}get injector(){return new Wn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qd(this._hostTNode,this._hostLView);if(Dm(e)){let t=Ha(e,this._hostLView),r=$a(e),o=t[T].data[r+8];return new Wn(o,t)}else return new Wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=tm(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Te}createEmbeddedView(e,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Wg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,Gg(this._hostTNode,s)),a}createComponent(e,t,r,o,i,s,a){let c=e&&!gE(e),l;if(c)l=t;else{let v=t||{};l=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?e:new Zr(cn(e)),d=r||this.parentInjector;if(!i&&u.ngModule==null){let y=(c?d:this.parentInjector).get(le,null);y&&(i=y)}let h=cn(u.componentType??{}),f=Wg(this._lContainer,h?.id??null),g=f?.firstChild??null,m=u.create(d,o,g,i,s,a);return this.insertImpl(m.hostView,l,Gg(this._hostTNode,f)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let o=e._lView;if(lg(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[pe],l=new Cv(c,c[Ze],c[pe]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(t),s=this._lContainer;return rC(s,o,i,r),e.attachToViewContainerRef(),Lu(wd(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=tm(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Fd(this._lContainer,t);r&&(Wo(wd(this._lContainer),t),Jm(r[T],r))}detach(e){let t=this._adjustIndex(e,-1),r=Fd(this._lContainer,t);return r&&Wo(wd(this._lContainer),t)!=null?new gn(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function tm(n){return n[Xo]}function wd(n){return n[Xo]||(n[Xo]=[])}function Iv(n,e){let t,r=e[n.index];return dt(r)?t=r:(t=fv(r,e,null,n),e[n.index]=t,sf(e,t)),kC(t,e,n,r),new Cv(t,n,e)}function OC(n,e){let t=n[te],r=t.createComment(""),o=ft(e,n),i=t.parentNode(o);return qa(t,i,r,t.nextSibling(o),!1),r}var kC=LC,PC=()=>!1;function FC(n,e,t){return PC(n,e,t)}function LC(n,e,t,r){if(n[un])return;let o;t.type&8?o=Je(r):o=OC(e,t),n[un]=o}var Ud=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Bd=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){let s=t.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new n(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)_f(e,t).matches!==null&&this.queries[t].setDirty()}},$d=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=GC(e):this.predicate=e}},Hd=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let o=t!==null?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,t!==null?t.push(i):t=[i])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},zd=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(e,t,jC(t,i)),this.matchTNodeWithReadOption(e,t,Va(t,e,i,!1,!1))}else r===mn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Va(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===Ht||o===zt||o===mn&&t.type&4)this.addMatch(t.index,-2);else{let i=Va(t,e,o,!1,!1);i!==null&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function jC(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function VC(n,e){return n.type&11?Qr(n,e):n.type&4?mf(n,e):null}function UC(n,e,t,r){return t===-1?VC(e,n):t===-2?BC(n,e,r):ui(n,n[T],t,e)}function BC(n,e,t){if(t===Ht)return Qr(e,n);if(t===mn)return mf(e,n);if(t===zt)return Iv(e,n)}function Sv(n,e,t,r){let o=e[yt].queries[r];if(o.matches===null){let i=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=i[l];a.push(UC(e,u,s[c+1],t.metadata.read))}}o.matches=a}return o.matches}function Gd(n,e,t,r){let o=n.queries.getByIndex(t),i=o.matches;if(i!==null){let s=Sv(n,e,o,t);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let l=i[a+1],u=e[-c];for(let d=Te;d<u.length;d++){let h=u[d];h[ln]===h[pe]&&Gd(h[T],h,l,r)}if(u[Gn]!==null){let d=u[Gn];for(let h=0;h<d.length;h++){let f=d[h];Gd(f[T],f,l,r)}}}}}return r}function $C(n,e){return n[yt].queries[e].queryList}function HC(n,e,t){let r=new Ga((t&4)===4);return fg(n,e,r,r.destroy),(e[yt]??=new Bd).queries.push(new Ud(r))-1}function zC(n,e,t){let r=Me();return r.firstCreatePass&&(qC(r,new $d(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),HC(r,W(),e)}function GC(n){return n.split(",").map(e=>e.trim())}function qC(n,e,t){n.queries===null&&(n.queries=new Hd),n.queries.track(new zd(e,t))}function _f(n,e){return n.queries.getByIndex(e)}function WC(n,e){let t=n[T],r=_f(t,e);return r.crossesNgTemplate?Gd(t,n,e,[]):Sv(t,n,r,e)}var nm=new Set;function wf(n){nm.has(n)||(nm.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Jn=class{},ac=class{};var Za=class extends Jn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Wa(this);constructor(e,t,r,o=!0){super(),this.ngModuleType=e,this._parent=t;let i=Uu(e);this._bootstrapComponents=$m(i.bootstrap),this._r3Injector=ud(e,t,[{provide:Jn,useValue:this},{provide:pi,useValue:this.componentFactoryResolver},...r],Vt(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ya=class extends ac{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Za(this.moduleType,e,[])}};var fi=class extends Jn{injector;componentFactoryResolver=new Wa(this);instance=null;constructor(e){super();let t=new Un([...e.providers,{provide:Jn,useValue:this},{provide:pi,useValue:this.componentFactoryResolver}],e.parent||Zo(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function mi(n,e,t=null){return new fi({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var KC=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=$u(!1,t.type),o=r.length>0?mi([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:n,providedIn:"environment",factory:()=>new n(I(le))})}return n})();function Ge(n){return Jr(()=>{let e=Tv(n),t=j(w({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Xd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(KC).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||$t.Emulated,styles:n.styles||Be,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&wf("NgStandalone"),Mv(t);let r=n.dependencies;return t.directiveDefs=rm(r,ZC),t.pipeDefs=rm(r,Xp),t.id=QC(t),t})}function ZC(n){return cn(n)||Bu(n)}function Gt(n){return Jr(()=>({type:n.type,bootstrap:n.bootstrap||Be,declarations:n.declarations||Be,imports:n.imports||Be,exports:n.exports||Be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function YC(n,e){if(n==null)return sn;let t={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=oc.None,c=null),t[i]=[r,a,c],e[i]=s}return t}function JC(n){if(n==null)return sn;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function _e(n){return Jr(()=>{let e=Tv(n);return Mv(e),e})}function Tv(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||sn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Be,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:YC(n.inputs,e),outputs:JC(n.outputs),debugInfo:null}}function Mv(n){n.features?.forEach(e=>e(n))}function rm(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let o of t){let i=e(o);i!==null&&r.push(i)}return r}:null}function QC(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function XC(n){return Object.getPrototypeOf(n.prototype).constructor}function St(n){let e=XC(n.type),t=!0,r=[n];for(;e;){let o;if(wt(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);let s=n;s.inputs=Dd(n.inputs),s.declaredInputs=Dd(n.declaredInputs),s.outputs=Dd(n.outputs);let a=o.hostBindings;a&&oI(n,a);let c=o.viewQuery,l=o.contentQueries;if(c&&nI(n,c),l&&rI(n,l),eI(n,o),zp(n.outputs,o.outputs),wt(o)&&o.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(n),a===St&&(t=!1)}}e=Object.getPrototypeOf(e)}tI(r)}function eI(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function tI(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=li(o.hostAttrs,t=li(t,o.hostAttrs))}}function Dd(n){return n===sn?{}:n===Be?[]:n}function nI(n,e){let t=n.viewQuery;t?n.viewQuery=(r,o)=>{e(r,o),t(r,o)}:n.viewQuery=e}function rI(n,e){let t=n.contentQueries;t?n.contentQueries=(r,o,i)=>{e(r,o,i),t(r,o,i)}:n.contentQueries=e}function oI(n,e){let t=n.hostBindings;t?n.hostBindings=(r,o)=>{e(r,o),t(r,o)}:n.hostBindings=e}function iI(n,e,t,r,o,i,s,a){if(t.firstCreatePass){n.mergedAttrs=li(n.mergedAttrs,n.attrs);let u=n.tView=rf(2,n,o,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),u.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Gr(n,!1);let c=aI(t,e,n,r);xa()&&lf(t,e,c,n),Kr(c,e);let l=fv(c,e,c,n);e[r+He]=l,sf(e,l),FC(l,n,e)}function sI(n,e,t,r,o,i,s,a,c,l,u){let d=t+He,h;return e.firstCreatePass?(h=vf(e,d,4,s||null,a||null),ed()&&mv(e,n,h,ti(e.consts,l),nv),_m(e,h)):h=e.data[d],iI(h,n,e,t,r,o,i,c),ei(h)&&df(e,n,h),l!=null&&ev(n,h,u),h}function tt(n,e,t,r,o,i,s,a){let c=W(),l=Me(),u=ti(l.consts,i);return sI(c,l,n,e,t,r,o,u,void 0,s,a),tt}var aI=cI;function cI(n,e,t,r){return Ra(!0),e[te].createComment("")}var Df=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Df||{}),vi=new b(""),Av=!1,qd=class extends se{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,og()&&(this.destroyRef=_(pn,{optional:!0})??void 0,this.pendingTasks=_(Et,{optional:!0})??void 0)}emit(e){let t=k(null);try{super.next(e)}finally{k(t)}}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof ie&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ne=qd;function xv(n){let e,t;function r(){n=si;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function om(n){return queueMicrotask(()=>n()),()=>{n=si}}var Ef="isAngularZone",Ja=Ef+"_ID",lI=0,de=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ne(!1);onMicrotaskEmpty=new ne(!1);onStable=new ne(!1);onError=new ne(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Av}=e;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,fI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ef)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new D(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,uI,si,si);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},uI={};function bf(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function dI(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){xv(()=>{n.callbackScheduled=!1,Wd(n),n.isCheckStableRunning=!0,bf(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Wd(n)}function fI(n){let e=()=>{dI(n)},t=lI++;n._inner=n._inner.fork({name:"angular",properties:{[Ef]:!0,[Ja]:t,[Ja+t]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(hI(c))return r.invokeTask(i,s,a,c);try{return im(n),r.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),sm(n)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return im(n),r.invoke(i,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!pI(c)&&e(),sm(n)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Wd(n),bf(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Wd(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function im(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function sm(n){n._nesting--,bf(n)}var Qa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ne;onMicrotaskEmpty=new ne;onStable=new ne;onError=new ne;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}};function hI(n){return Rv(n,"__ignore_ng_zone__")}function pI(n){return Rv(n,"__scheduler_tick__")}function Rv(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Nv=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=C({token:n,providedIn:"root",factory:()=>new n})}return n})();var Cf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var If=new b("");function vn(n){return!!n&&typeof n.then=="function"}function Sf(n){return!!n&&typeof n.subscribe=="function"}var Ov=new b("");var Tf=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=_(Ov,{optional:!0})??[];injector=_(lt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=ye(this.injector,o);if(vn(i))t.push(i);else if(Sf(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cc=new b("");function kv(){Wl(()=>{let n="";throw new D(600,n)})}function Pv(n){return n.isBoundToModule}var gI=10;var yn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(ze);afterRenderManager=_(Nv);zonelessEnabled=_(Oa);rootEffectScheduler=_(gd);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new se;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=_(Et);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(M(t=>!t))}constructor(){_(vi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=_(le);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=lt.NULL){return this._injector.get(de).run(()=>{Y(10);let s=t instanceof sc;if(!this._injector.get(Tf).done){let g="";throw new D(405,g)}let c;s?c=t:c=this._injector.get(pi).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=Pv(c)?void 0:this._injector.get(Jn),u=r||c.selector,d=c.create(o,[],u,l),h=d.location.nativeElement,f=d.injector.get(If,null);return f?.registerApplication(h),d.onDestroy(()=>{this.detachView(d.hostView),ci(this.components,d),f?.unregisterApplication(h)}),this._loadComponent(d),Y(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Y(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Df.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let t=k(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,k(t),this.afterTick.next(),Y(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<gI;)Y(14),this.synchronizeOnce(),Y(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!ni(o))continue;let i=r&&!this.zonelessEnabled?0:1;pf(o,i),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>ni(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ci(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(t),this._injector.get(cc,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ci(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ci(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lc(n,e,t,r){let o=W(),i=ii();if(Yn(o,i,e)){let s=Me(),a=Aa();kb(a,o,n,e,t,r)}return lc}var Mf=new b("",{providedIn:"root",factory:()=>!1}),Af=new b("",{providedIn:"root",factory:()=>mI}),mI=4e3;var iL=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function we(n,e,t){let r=W(),o=ii();if(Yn(r,o,e)){let i=Me(),s=Aa();tv(s,r,n,e,r[te],t)}return we}function am(n,e,t,r,o){ff(e,n,t,o?"class":"style",r)}function z(n,e,t,r){let o=W(),i=o[T],s=n+He,a=i.firstCreatePass?yv(s,o,2,e,nv,ed(),t,r):i.data[s];if(Lb(a,o,n,e,vI),ei(a)){let c=o[T];df(c,o,a),Um(c,a,o)}return r!=null&&ev(o,a),z}function B(){let n=Me(),e=je(),t=jb(e);return n.firstCreatePass&&_v(n,t),vg(t)&&yg(),gg(),t.classesWithoutHost!=null&&DE(t)&&am(n,t,W(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&EE(t)&&am(n,t,W(),t.stylesWithoutHost,!1),B}function Ae(n,e,t,r){return z(n,e,t,r),B(),Ae}var vI=(n,e,t,r,o)=>(Ra(!0),zm(e[te],r,Rg()));function _n(){return W()}var yi="en-US";var yI=yi;function Fv(n){typeof n=="string"&&(yI=n.toLowerCase().replace(/_/g,"-"))}function xe(n,e,t){let r=W(),o=Me(),i=je();return Lv(o,r,r[te],i,n,e,t),xe}function Lv(n,e,t,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=_d(r,e,i),DC(r,n,e,s,t,o,i,c)&&(a=!1)),a){let l=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){let h=u[d],f=u[d+1];c??=_d(r,e,i),Xg(r,e,h,f,o,c)}if(l&&l.length)for(let d of l)c??=_d(r,e,i),Xg(r,e,d,o,o,c)}}function Tt(n=1){return xg(n)}function uc(n,e,t){zC(n,e,t)}function dc(n){let e=W(),t=Me(),r=ad();Sa(r+1);let o=_f(t,r);if(n.dirty&&cg(e)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let i=WC(e,r);n.reset(i,PE),n.notifyOnChanges()}return!0}return!1}function fc(){return $C(W(),ad())}function Fa(n,e){return n<<17|e<<2}function Qn(n){return n>>17&32767}function _I(n){return(n&2)==2}function wI(n,e){return n&131071|e<<17}function Kd(n){return n|2}function Yr(n){return(n&131068)>>2}function Ed(n,e){return n&-131069|e<<2}function DI(n){return(n&1)===1}function Zd(n){return n|1}function EI(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Qn(s),c=Yr(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let d=t;u=d[1],(u===null||Ur(d,u)>0)&&(l=!0)}else u=t;if(o)if(c!==0){let h=Qn(n[a+1]);n[r+1]=Fa(h,a),h!==0&&(n[h+1]=Ed(n[h+1],r)),n[a+1]=wI(n[a+1],r)}else n[r+1]=Fa(a,0),a!==0&&(n[a+1]=Ed(n[a+1],r)),a=r;else n[r+1]=Fa(c,0),a===0?a=r:n[c+1]=Ed(n[c+1],r),c=r;l&&(n[r+1]=Kd(n[r+1])),cm(n,u,r,!0),cm(n,u,r,!1),bI(e,u,n,r,i),s=Fa(a,c),i?e.classBindings=s:e.styleBindings=s}function bI(n,e,t,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof e=="string"&&Ur(i,e)>=0&&(t[r+1]=Zd(t[r+1]))}function cm(n,e,t,r){let o=n[t+1],i=e===null,s=r?Qn(o):Yr(o),a=!1;for(;s!==0&&(a===!1||i);){let c=n[s],l=n[s+1];CI(c,e)&&(a=!0,n[s+1]=r?Zd(l):Kd(l)),s=r?Qn(l):Yr(l)}a&&(n[t+1]=r?Kd(o):Zd(o))}function CI(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ur(n,e)>=0:!1}function wn(n,e,t){return jv(n,e,t,!1),wn}function Dn(n,e){return jv(n,e,null,!0),Dn}function jv(n,e,t,r){let o=W(),i=Me(),s=sd(2);if(i.firstUpdatePass&&SI(i,n,s,r),e!==It&&Yn(o,s,e)){let a=i.data[fn()];RI(i,a,o,o[te],n,o[s+1]=NI(e,t),r,s)}}function II(n,e){return e>=n.expandoStartIndex}function SI(n,e,t,r){let o=n.data;if(o[t+1]===null){let i=o[fn()],s=II(n,t);OI(i,r)&&e===null&&!s&&(e=!1),e=TI(o,i,e,r),EI(o,i,e,t,s,r)}}function TI(n,e,t,r){let o=Sg(n),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(t=bd(null,n,e,t,r),t=hi(t,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==o)if(t=bd(o,n,e,t,r),i===null){let c=MI(n,e,r);c!==void 0&&Array.isArray(c)&&(c=bd(null,n,e,c[1],r),c=hi(c,e.attrs,r),AI(n,e,r,c))}else i=xI(n,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),t}function MI(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Yr(r)!==0)return n[Qn(r)]}function AI(n,e,t,r){let o=t?e.classBindings:e.styleBindings;n[Qn(o)]=r}function xI(n,e,t){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=n[i].hostAttrs;r=hi(r,s,t)}return hi(r,e.attrs,t)}function bd(n,e,t,r,o){let i=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(i=e[a],r=hi(r,i.hostAttrs,o),i!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function hi(n,e,t){let r=t?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Qp(n,s,t?!0:e[++i]))}return n===void 0?null:n}function RI(n,e,t,r,o,i,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=DI(l)?lm(c,e,t,o,Yr(l),s):void 0;if(!Xa(u)){Xa(i)||_I(l)&&(i=lm(c,null,t,o,a,s));let d=Ku(fn(),t);Cb(r,s,d,o,i)}}function lm(n,e,t,r,o,i){let s=e===null,a;for(;o>0;){let c=n[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=t[o+1];h===It&&(h=d?Be:void 0);let f=d?_a(h,r):u===r?h:void 0;if(l&&!Xa(f)&&(f=_a(c,r)),Xa(f)&&(a=f,s))return a;let g=n[o+1];o=s?Qn(g):Yr(g)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=_a(c,r))}return a}function Xa(n){return n!==void 0}function NI(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Vt(Bm(n)))),n}function OI(n,e){return(n.flags&(e?8:16))!==0}function Q(n,e=""){let t=W(),r=Me(),o=n+He,i=r.firstCreatePass?vf(r,o,1,e,null):r.data[o],s=kI(r,t,i,e,n);t[o]=s,xa()&&lf(r,t,s,i),Gr(i,!1)}var kI=(n,e,t,r,o)=>(Ra(!0),rb(e[te],r));function PI(n,e,t,r=""){return Yn(n,ii(),t)?e+Vr(t)+r:It}function FI(n,e,t,r,o,i=""){let s=Dg(),a=wC(n,s,t,o);return sd(2),a?e+Vr(t)+r+Vr(o)+i:It}function tr(n){return Mt("",n),tr}function Mt(n,e,t){let r=W(),o=PI(r,n,e,t);return o!==It&&Vv(r,fn(),o),Mt}function hc(n,e,t,r,o){let i=W(),s=FI(i,n,e,t,r,o);return s!==It&&Vv(i,fn(),s),hc}function Vv(n,e,t){let r=Ku(e,n);ob(n[te],r,t)}function _i(n,e,t){fd(e)&&(e=e());let r=W(),o=ii();if(Yn(r,o,e)){let i=Me(),s=Aa();tv(s,r,n,e,r[te],t)}return _i}function pc(n,e){let t=fd(n);return t&&n.set(e),t}function wi(n,e){let t=W(),r=Me(),o=je();return Lv(r,t,t[te],o,n,e),wi}function LI(n,e,t){let r=Me();if(r.firstCreatePass){let o=wt(n);Yd(t,r.data,r.blueprint,o,!0),Yd(e,r.data,r.blueprint,o,!1)}}function Yd(n,e,t,r,o){if(n=ve(n),Array.isArray(n))for(let i=0;i<n.length;i++)Yd(n[i],e,t,r,o);else{let i=Me(),s=W(),a=je(),c=Vn(n)?n:ve(n.provide),l=zu(n),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Vn(n)||!n.multi){let f=new Kn(l,o,H,null),g=Id(c,e,o?u:u+h,d);g===-1?(Td(za(a,s),i,c),Cd(i,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[g]=f,s[g]=f)}else{let f=Id(c,e,u+h,d),g=Id(c,e,u,u+h),m=f>=0&&t[f],v=g>=0&&t[g];if(o&&!v||!o&&!m){Td(za(a,s),i,c);let y=UI(o?VI:jI,t.length,o,r,l,n);!o&&v&&(t[g].providerFactory=y),Cd(i,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(y),s.push(y)}else{let y=Uv(t[o?g:f],l,!o&&r);Cd(i,n,f>-1?f:g,y)}!o&&r&&v&&t[g].componentProviders++}}}function Cd(n,e,t,r){let o=Vn(e),i=rg(e);if(o||i){let c=(i?ve(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function Uv(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Id(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function jI(n,e,t,r,o){return Jd(this.multi,[])}function VI(n,e,t,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=ui(r,r[T],this.providerFactory.index,o);s=c.slice(0,a),Jd(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Jd(i,s);return s}function Jd(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function UI(n,e,t,r,o,i){let s=new Kn(n,t,H,null);return s.multi=[],s.index=e,s.componentProviders=0,Uv(s,o,r&&!t),s}function eo(n,e=[]){return t=>{t.providersResolver=(r,o)=>LI(r,o?o(n):n,e)}}var ec=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},xf=(()=>{class n{compileModuleSync(t){return new Ya(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=Uu(t),i=$m(o.declarations).reduce((s,a)=>{let c=cn(a);return c&&s.push(new Zr(c)),s},[]);return new ec(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var BI=(()=>{class n{zone=_(de);changeDetectionScheduler=_(on);applicationRef=_(yn);applicationErrorHandler=_(ze);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bv({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new de(j(w({},$v()),{scheduleInRootZone:t})),[{provide:de,useFactory:n},{provide:an,multi:!0,useFactory:()=>{let r=_(BI,{optional:!0});return()=>r.initialize()}},{provide:an,multi:!0,useFactory:()=>{let r=_($I);return()=>{r.initialize()}}},e===!0?{provide:hd,useValue:!0}:[],{provide:pd,useValue:t??Av},{provide:ze,useFactory:()=>{let r=_(de),o=_(le),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(mt),i.handleError(s))})}}}]}function $v(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var $I=(()=>{class n{subscription=new ie;initialized=!1;zone=_(de);pendingTasks=_(Et);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Hv=(()=>{class n{applicationErrorHandler=_(ze);appRef=_(yn);taskService=_(Et);ngZone=_(de);zonelessEnabled=_(Oa);tracing=_(vi,{optional:!0});disableScheduling=_(hd,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ie;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ja):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(pd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qa||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?om:xv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ja+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,om(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HI(){return typeof $localize<"u"&&$localize.locale||yi}var gc=new b("",{providedIn:"root",factory:()=>_(gc,{optional:!0,skipSelf:!0})||HI()});function De(n){return Bp(n)}function to(n,e){return Us(n,e?.equal)}var zv=class{[Ce];constructor(e){this[Ce]=e}destroy(){this[Ce].destroy()}};var Zv=Symbol("InputSignalNode#UNSET"),s0=j(w({},Bs),{transformFn:void 0,applyValueToInputSignal(n,e){Tr(n,e)}});function Yv(n,e){let t=Object.create(s0);t.value=n,t.transformFn=e?.transform;function r(){if(Cr(t),t.value===Zv){let o=null;throw new D(-950,o)}return t.value}return r[Ce]=t,r}var a0=new b("");a0.__NG_ELEMENT_ID__=n=>{let e=je();if(e===null)throw new D(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new D(204,!1)};function Gv(n,e){return Yv(n,e)}function c0(n){return Yv(Zv,n)}var Jv=(Gv.required=c0,Gv);var Rf=new b(""),l0=new b("");function Di(n){return!n.moduleRef}function u0(n){let e=Di(n)?n.r3Injector:n.moduleRef.injector,t=e.get(de);return t.run(()=>{Di(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ze),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:r})}),Di(n)){let i=()=>e.destroy(),s=n.platformInjector.get(Rf);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Rf);s.add(i),n.moduleRef.onDestroy(()=>{ci(n.allPlatformModules,n.moduleRef),o.unsubscribe(),s.delete(i)})}return f0(r,t,()=>{let i=e.get(Et),s=i.add(),a=e.get(Tf);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(gc,yi);if(Fv(c||yi),!e.get(l0,!0))return Di(n)?e.get(yn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Di(n)){let u=e.get(yn);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return d0?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void i.remove(s))})})}var d0;function f0(n,e,t){try{let r=t();return vn(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var mc=null;function h0(n=[],e){return lt.create({name:e,providers:[{provide:Ko,useValue:"platform"},{provide:Rf,useValue:new Set([()=>mc=null])},...n]})}function p0(n=[]){if(mc)return mc;let e=h0(n);return mc=e,kv(),g0(e),e}function g0(n){let e=n.get(nc,null);ye(n,()=>{e?.forEach(t=>t())})}var bi=(()=>{class n{static __NG_ELEMENT_ID__=m0}return n})();function m0(n){return v0(je(),W(),(n&16)===16)}function v0(n,e,t){if(dn(n)&&!t){let r=Qe(n.index,e);return new gn(r,r)}else if(n.type&175){let r=e[Ye];return new gn(r,e)}return null}var Nf=class{constructor(){}supports(e){return yf(e)}create(e){return new Of(e)}},y0=(n,e)=>e,Of=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||y0}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let s=!r||t&&t.currentIndex<qv(r,o,i)?t:r,a=qv(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let h=0;h<l;h++){let f=h<i.length?i[h]:i[h]=0,g=f+h;u<=g&&g<l&&(i[h]=f+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!yf(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,i,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,wv(e,a=>{s=this._trackByFn(o,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,o),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new kf(t,r),i,o)),e}_verifyReinsertion(e,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let o=t===null?this._itHead:t._next;return e._next=o,e._prev=t,o===null?this._itTail=e:o._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new vc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},kf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Pf=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},vc=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Pf,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,o=this.map.get(r);return o?o.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function qv(n,e,t){let r=n.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function Wv(){return new Ff([new Nf])}var Ff=(()=>{class n{factories;static \u0275prov=C({token:n,providedIn:"root",factory:Wv});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Wv()),deps:[[n,new pm,new hm]]}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new D(901,!1)}}return n})();function Qv(n){Y(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,o=p0(r),i=[Bv({}),{provide:on,useExisting:Hv},Og,...t||[]],s=new fi({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return u0({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Y(9)}}function yc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var ty=null;function nt(){return ty}function Lf(n){ty??=n}var Ci=class{},jf=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:()=>_(ny),providedIn:"platform"})}return n})();var ny=(()=>{class n extends jf{_location;_history;_doc=_(ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nt().getBaseHref(this._doc)}onPopState(t){let r=nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=nt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ry(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Xv(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function En(n){return n&&n[0]!=="?"?`?${n}`:n}var _c=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:()=>_(iy),providedIn:"root"})}return n})(),oy=new b(""),iy=(()=>{class n extends _c{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ry(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+En(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+En(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+En(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(I(jf),I(oy,8))};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),no=(()=>{class n{_subject=new se;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=D0(Xv(ey(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+En(r))}normalize(t){return n.stripTrailingSlash(w0(this._basePath,ey(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+En(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+En(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=En;static joinWithSlash=ry;static stripTrailingSlash=Xv;static \u0275fac=function(r){return new(r||n)(I(_c))};static \u0275prov=C({token:n,factory:()=>_0(),providedIn:"root"})}return n})();function _0(){return new no(I(_c))}function w0(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ey(n){return n.replace(/\/index.html$/,"")}function D0(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var wc=class{$implicit;ngForOf;index;count;constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ro=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new wc(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),sy(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);sy(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(H(zt),H(mn),H(Ff))};static \u0275dir=_e({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function sy(n,e){n.context.$implicit=e.item}var Vf=(()=>{class n{_viewContainer;_context=new Dc;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ay(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ay(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(H(zt),H(mn))};static \u0275dir=_e({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Dc=class{$implicit=null;ngIf=null};function ay(n,e){if(n&&!n.createEmbeddedView)throw new D(2020,!1)}var bn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=vt({})}return n})();function Ii(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var nr=class{};var cy="browser";var bc=new b(""),Gf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(I(bc),I(de))};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})(),Si=class{_doc;constructor(e){this._doc=e}manager},Bf="ng-app-id";function ly(n){for(let e of n)e.remove()}function uy(n,e){let t=e.createElement("style");return t.textContent=n,t}function E0(n,e,t,r){let o=n.head?.querySelectorAll(`style[${Bf}="${e}"],link[${Bf}="${e}"]`);if(o)for(let i of o)i.removeAttribute(Bf),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function Hf(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var qf=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,E0(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,uy);r?.forEach(o=>this.addUsage(o,this.external,Hf))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(ly(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ly(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,uy(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,Hf(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(I(ue),I(tc),I(rc,8),I(Xr))};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})(),$f={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wf=/%COMP%/g;var fy="%COMP%",b0=`_nghost-${fy}`,C0=`_ngcontent-${fy}`,I0=!0,S0=new b("",{providedIn:"root",factory:()=>I0});function T0(n){return C0.replace(Wf,n)}function M0(n){return b0.replace(Wf,n)}function hy(n,e){return e.map(t=>t.replace(Wf,n))}var Kf=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(t,r,o,i,s,a,c,l=null,u,d,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.animationDisabled=u,this.maxAnimationTimeout=d,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Ti(t,s,c,this.platformIsServer,this.tracingService,this.registry=Na(),this.maxAnimationTimeout)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(t,r);return o instanceof Ec?o.applyToHost(t):o instanceof Mi&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case $t.Emulated:i=new Ec(c,l,r,this.appId,u,s,a,d,h,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case $t.ShadowDom:return new zf(c,l,t,r,s,a,this.nonce,d,h,this.registry,this.maxAnimationTimeout);default:i=new Mi(c,l,r,u,s,a,d,h,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(I(Gf),I(qf),I(tc),I(S0),I(ue),I(Xr),I(de),I(rc),I(Mf),I(Af),I(vi,8))};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})(),Ti=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,o,i,s,a){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS($f[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(dy(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(dy(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){let{elements:r}=this.registry;if(r){r.animate(t,()=>t.remove(),this.maxAnimationTimeout);return}t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;let i=$f[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let o=$f[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(Ct.DashCase|Ct.Important)?e.style.setProperty(t,r,o&Ct.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ct.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,o){if(typeof e=="string"&&(e=nt().getGlobalEventTarget(this.doc,e),!e))throw new D(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,t,i)),this.eventManager.addEventListener(e,t,i,o)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function dy(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zf=class extends Ti{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,o,i,s,a,c,l,u,d){super(e,i,s,c,l,u,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=o.styles;h=hy(o.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let f=o.getExternalStyles?.();if(f)for(let g of f){let m=Hf(g,i);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Mi=class extends Ti{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(e,t,r,o,i,s,a,c,l,u,d,h){super(e,i,s,a,c,l,d),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this._animationDisabled=u;let f=r.styles;this.styles=h?hy(h,f):f,this.styleUrls=r.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},Ec=class extends Mi{contentAttr;hostAttr;constructor(e,t,r,o,i,s,a,c,l,u,d,h){let f=o+"-"+r.id;super(e,t,r,i,s,a,c,l,u,d,h,f),this.contentAttr=T0(f),this.hostAttr=M0(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Cc=class n extends Ci{supportsDOMEvents=!0;static makeCurrent(){Lf(new n)}onAndCancel(e,t,r,o){return e.addEventListener(t,r,o),()=>{e.removeEventListener(t,r,o)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=A0();return t==null?null:x0(t)}resetBaseElement(){Ai=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ii(document.cookie,e)}},Ai=null;function A0(){return Ai=Ai||document.head.querySelector("base"),Ai?Ai.getAttribute("href"):null}function x0(n){return new URL(n,document.baseURI).pathname}var R0=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})(),gy=(()=>{class n extends Si{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||n)(I(ue))};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})(),py=["alt","control","meta","shift"],N0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O0={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},my=(()=>{class n extends Si{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nt().onAndCancel(t,s.domEventName,a,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),py.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=N0[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),py.forEach(s=>{if(s!==o){let a=O0[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(I(ue))};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})();function Zf(n,e){let t=w({rootComponent:n},k0(e));return Qv(t)}function k0(n){return{appProviders:[...V0,...n?.providers??[]],platformProviders:j0}}function P0(){Cc.makeCurrent()}function F0(){return new mt}function L0(){return ef(document),document}var j0=[{provide:Xr,useValue:cy},{provide:nc,useValue:P0,multi:!0},{provide:ue,useFactory:L0}];var V0=[{provide:Ko,useValue:"root"},{provide:mt,useFactory:F0},{provide:bc,useClass:gy,multi:!0,deps:[ue]},{provide:bc,useClass:my,multi:!0,deps:[ue]},Kf,qf,Gf,{provide:Zn,useExisting:Kf},{provide:nr,useClass:R0},[]];var so=class{},xi=class{},At=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let o=t.slice(0,r),i=t.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let o=(e.op==="a"?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":let i=e.value;if(!i)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Sc=class{encodeKey(e){return vy(e)}encodeValue(e){return vy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function U0(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var B0=/%(\d[a-f0-9])/gi,$0={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vy(n){return encodeURIComponent(n).replace(B0,(e,t)=>$0[t]??e)}function Ic(n){return`${n}`}var qt=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Sc,e.fromString){if(e.fromObject)throw new D(2805,!1);this.map=U0(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],o=Array.isArray(r)?r.map(Ic):[Ic(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Ic(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],o=r.indexOf(Ic(e.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Tc=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function H0(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function yy(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _y(n){return typeof Blob<"u"&&n instanceof Blob}function wy(n){return typeof FormData<"u"&&n instanceof FormData}function z0(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Dy="Content-Type",Ey="Accept",by="X-Request-URL",Cy="text/plain",Iy="application/json",G0=`${Iy}, ${Cy}, */*`,oo=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,o){this.url=t,this.method=e.toUpperCase();let i;if(H0(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new D(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new At,this.context??=new Tc,!this.params)this.params=new qt,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||yy(this.body)||_y(this.body)||wy(this.body)||z0(this.body)?this.body:this.body instanceof qt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||wy(this.body)?null:_y(this.body)?this.body.type||null:yy(this.body)?null:typeof this.body=="string"?Cy:this.body instanceof qt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Iy:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,l=e.redirect||this.redirect,u=e.credentials||this.credentials,d=e.referrer||this.referrer,h=e.integrity||this.integrity,f=e.transferCache??this.transferCache,g=e.timeout??this.timeout,m=e.body!==void 0?e.body:this.body,v=e.withCredentials??this.withCredentials,y=e.reportProgress??this.reportProgress,O=e.headers||this.headers,Z=e.params||this.params,E=e.context??this.context;return e.setHeaders!==void 0&&(O=Object.keys(e.setHeaders).reduce(($,ke)=>$.set(ke,e.setHeaders[ke]),O)),e.setParams&&(Z=Object.keys(e.setParams).reduce(($,ke)=>$.set(ke,e.setParams[ke]),Z)),new n(t,r,m,{params:Z,headers:O,context:E,reportProgress:y,responseType:o,withCredentials:v,transferCache:f,keepalive:i,cache:a,priority:s,timeout:g,mode:c,redirect:l,credentials:u,referrer:d,integrity:h})}},rr=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(rr||{}),ao=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new At,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}},Mc=class n extends ao{constructor(e={}){super(e)}type=rr.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ri=class n extends ao{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=rr.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}},io=class extends ao{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},q0=200,W0=204;function Yf(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var xc=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof oo)i=t;else{let c;o.headers instanceof At?c=o.headers:c=new At(o.headers);let l;o.params&&(o.params instanceof qt?l=o.params:l=new qt({fromObject:o.params})),i=new oo(t,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}let s=S(i).pipe(tn(c=>this.handler.handle(c)));if(t instanceof oo||o.observe==="events")return s;let a=s.pipe(Le(c=>c instanceof Ri));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(M(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new D(2806,!1);return c.body}));case"blob":return a.pipe(M(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new D(2807,!1);return c.body}));case"text":return a.pipe(M(c=>{if(c.body!==null&&typeof c.body!="string")throw new D(2808,!1);return c.body}));case"json":default:return a.pipe(M(c=>c.body))}case"response":return a;default:throw new D(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new qt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Yf(o,r))}post(t,r,o={}){return this.request("POST",t,Yf(o,r))}put(t,r,o={}){return this.request("PUT",t,Yf(o,r))}static \u0275fac=function(r){return new(r||n)(I(so))};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})();var K0=new b("");function Z0(n,e){return e(n)}function Y0(n,e,t){return(r,o)=>ye(t,()=>e(r,i=>n(i,o)))}var Sy=new b(""),Ty=new b(""),My=new b("",{providedIn:"root",factory:()=>!0});var Ac=(()=>{class n extends so{backend;injector;chain=null;pendingTasks=_(ka);contributeToStability=_(My);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Sy),...this.injector.get(Ty,[])]));this.chain=r.reduceRight((o,i)=>Y0(o,i,this.injector),Z0)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(Pn(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(I(xi),I(le))};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})();var J0=/^\)\]\}',?\n/,Q0=RegExp(`^${by}:`,"m");function X0(n){return"responseURL"in n&&n.responseURL?n.responseURL:Q0.test(n.getAllResponseHeaders())?n.getResponseHeader(by):null}var Jf=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new D(-2800,!1);let r=this.xhrFactory;return S(null).pipe(Ie(()=>new L(i=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,y)=>s.setRequestHeader(v,y.join(","))),t.headers.has(Ey)||s.setRequestHeader(Ey,G0),!t.headers.has(Dy)){let v=t.detectContentTypeHeader();v!==null&&s.setRequestHeader(Dy,v)}if(t.timeout&&(s.timeout=t.timeout),t.responseType){let v=t.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=s.statusText||"OK",y=new At(s.getAllResponseHeaders()),O=X0(s)||t.url;return c=new Mc({headers:y,status:s.status,statusText:v,url:O}),c},u=()=>{let{headers:v,status:y,statusText:O,url:Z}=l(),E=null;y!==W0&&(E=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=E?q0:0);let $=y>=200&&y<300;if(t.responseType==="json"&&typeof E=="string"){let ke=E;E=E.replace(J0,"");try{E=E!==""?JSON.parse(E):null}catch(J){E=ke,$&&($=!1,E={error:J,text:E})}}$?(i.next(new Ri({body:E,headers:v,status:y,statusText:O,url:Z||void 0})),i.complete()):i.error(new io({error:E,headers:v,status:y,statusText:O,url:Z||void 0}))},d=v=>{let{url:y}=l(),O=new io({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});i.error(O)},h=d;t.timeout&&(h=v=>{let{url:y}=l(),O=new io({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:y||void 0});i.error(O)});let f=!1,g=v=>{f||(i.next(l()),f=!0);let y={type:rr.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),t.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),i.next(y)},m=v=>{let y={type:rr.UploadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),i.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",h),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),i.next({type:rr.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(I(nr))};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})(),Ay=new b(""),eS="XSRF-TOKEN",tS=new b("",{providedIn:"root",factory:()=>eS}),nS="X-XSRF-TOKEN",rS=new b("",{providedIn:"root",factory:()=>nS}),Ni=class{},oS=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ii(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(I(ue),I(tS))};static \u0275prov=C({token:n,factory:n.\u0275fac})}return n})();function iS(n,e){let t=n.url.toLowerCase();if(!_(Ay)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=_(Ni).getToken(),o=_(rS);return r!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}function Qf(...n){let e=[xc,Jf,Ac,{provide:so,useExisting:Ac},{provide:xi,useFactory:()=>_(K0,{optional:!0})??_(Jf)},{provide:Sy,useValue:iS,multi:!0},{provide:Ay,useValue:!0},{provide:Ni,useClass:oS}];for(let t of n)e.push(...t.\u0275providers);return Br(e)}var xy=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(I(ue))};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var N="primary",Wi=Symbol("RouteTitle"),rh=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function sr(n){return new rh(n)}function jy(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function cS(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xt(n[t],e[t]))return!1;return!0}function xt(n,e){let t=n?oh(n):void 0,r=e?oh(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!Vy(n[o],e[o]))return!1;return!0}function oh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Vy(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}else return n===e}function Uy(n){return n.length>0?n[n.length-1]:null}function Zt(n){return iu(n)?n:vn(n)?ee(Promise.resolve(n)):S(n)}var lS={exact:$y,subset:Hy},By={exact:uS,subset:dS,ignored:()=>!0};function Ry(n,e,t){return lS[t.paths](n.root,e.root,t.matrixParams)&&By[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function uS(n,e){return xt(n,e)}function $y(n,e,t){if(!or(n.segments,e.segments)||!Oc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!$y(n.children[r],e.children[r],t))return!1;return!0}function dS(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Vy(n[t],e[t]))}function Hy(n,e,t){return zy(n,e,e.segments,t)}function zy(n,e,t,r){if(n.segments.length>t.length){let o=n.segments.slice(0,t.length);return!(!or(o,t)||e.hasChildren()||!Oc(o,t,r))}else if(n.segments.length===t.length){if(!or(n.segments,t)||!Oc(n.segments,t,r))return!1;for(let o in e.children)if(!n.children[o]||!Hy(n.children[o],e.children[o],r))return!1;return!0}else{let o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!or(n.segments,o)||!Oc(n.segments,o,r)||!n.children[N]?!1:zy(n.children[N],e,i,r)}}function Oc(n,e,t){return e.every((r,o)=>By[t](n[o].parameters,r.parameters))}var Nt=class{root;queryParams;fragment;_queryParamMap;constructor(e=new G([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=sr(this.queryParams),this._queryParamMap}toString(){return pS.serialize(this)}},G=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kc(this)}},Cn=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=sr(this.parameters),this._parameterMap}toString(){return qy(this)}};function fS(n,e){return or(n,e)&&n.every((t,r)=>xt(t.parameters,e[r].parameters))}function or(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function hS(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===N&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==N&&(t=t.concat(e(o,r)))}),t}var Ki=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:()=>new ar,providedIn:"root"})}return n})(),ar=class{parse(e){let t=new sh(e);return new Nt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Oi(e.root,!0)}`,r=vS(e.queryParams),o=typeof e.fragment=="string"?`#${gS(e.fragment)}`:"";return`${t}${r}${o}`}},pS=new ar;function kc(n){return n.segments.map(e=>qy(e)).join("/")}function Oi(n,e){if(!n.hasChildren())return kc(n);if(e){let t=n.children[N]?Oi(n.children[N],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==N&&r.push(`${o}:${Oi(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=hS(n,(r,o)=>o===N?[Oi(n.children[N],!1)]:[`${o}:${Oi(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[N]!=null?`${kc(n)}/${t[0]}`:`${kc(n)}/(${t.join("//")})`}}function Gy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rc(n){return Gy(n).replace(/%3B/gi,";")}function gS(n){return encodeURI(n)}function ih(n){return Gy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pc(n){return decodeURIComponent(n)}function Ny(n){return Pc(n.replace(/\+/g,"%20"))}function qy(n){return`${ih(n.path)}${mS(n.parameters)}`}function mS(n){return Object.entries(n).map(([e,t])=>`;${ih(e)}=${ih(t)}`).join("")}function vS(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(o=>`${Rc(t)}=${Rc(o)}`).join("&"):`${Rc(t)}=${Rc(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var yS=/^[^\/()?;#]+/;function Xf(n){let e=n.match(yS);return e?e[0]:""}var _S=/^[^\/()?;=#]+/;function wS(n){let e=n.match(_S);return e?e[0]:""}var DS=/^[^=?&#]+/;function ES(n){let e=n.match(DS);return e?e[0]:""}var bS=/^[^&#]+/;function CS(n){let e=n.match(bS);return e?e[0]:""}var sh=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new G([],{}):new G([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[N]=new G(e,t)),r}parseSegment(){let e=Xf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Cn(Pc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=wS(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Xf(this.remaining);o&&(r=o,this.capture(r))}e[Pc(t)]=Pc(r)}parseQueryParam(e){let t=ES(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=CS(this.remaining);s&&(r=s,this.capture(r))}let o=Ny(t),i=Ny(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xf(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new D(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=N);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[N]:new G([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function Wy(n){return n.segments.length>0?new G([],{[N]:n}):n}function Ky(n){let e={};for(let[r,o]of Object.entries(n.children)){let i=Ky(o);if(r===N&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let t=new G(n.segments,e);return IS(t)}function IS(n){if(n.numberOfChildren===1&&n.children[N]){let e=n.children[N];return new G(n.segments.concat(e.segments),e.children)}return n}function ho(n){return n instanceof Nt}function Zy(n,e,t=null,r=null){let o=Yy(n);return Jy(o,e,t,r)}function Yy(n){let e;function t(i){let s={};for(let c of i.children){let l=t(c);s[c.outlet]=l}let a=new G(i.url,s);return i===n&&(e=a),a}let r=t(n.root),o=Wy(r);return e??o}function Jy(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return eh(o,o,o,t,r);let i=SS(e);if(i.toRoot())return eh(o,o,new G([],{}),t,r);let s=TS(i,o,n),a=s.processChildren?Pi(s.segmentGroup,s.index,i.commands):Xy(s.segmentGroup,s.index,i.commands);return eh(o,s.segmentGroup,a,t,r)}function Fc(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ji(n){return typeof n=="object"&&n!=null&&n.outlets}function eh(n,e,t,r,o){let i={};r&&Object.entries(r).forEach(([c,l])=>{i[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=Qy(n,e,t);let a=Wy(Ky(s));return new Nt(a,i,o)}function Qy(n,e,t){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===e?r[o]=t:r[o]=Qy(i,e,t)}),new G(n.segments,r)}var Lc=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fc(r[0]))throw new D(4003,!1);let o=r.find(ji);if(o&&o!==Uy(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SS(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Lc(!0,0,n);let e=0,t=!1,r=n.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Lc(t,e,r)}var uo=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function TS(n,e,t){if(n.isAbsolute)return new uo(e,!0,0);if(!t)return new uo(e,!1,NaN);if(t.parent===null)return new uo(t,!0,0);let r=Fc(n.commands[0])?0:1,o=t.segments.length-1+r;return MS(t,o,n.numberOfDoubleDots)}function MS(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new D(4005,!1);o=r.segments.length}return new uo(r,!1,o-i)}function AS(n){return ji(n[0])?n[0].outlets:{[N]:n}}function Xy(n,e,t){if(n??=new G([],{}),n.segments.length===0&&n.hasChildren())return Pi(n,e,t);let r=xS(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new G(n.segments.slice(0,r.pathIndex),{});return i.children[N]=new G(n.segments.slice(r.pathIndex),n.children),Pi(i,0,o)}else return r.match&&o.length===0?new G(n.segments,{}):r.match&&!n.hasChildren()?ah(n,e,t):r.match?Pi(n,0,o):ah(n,e,t)}function Pi(n,e,t){if(t.length===0)return new G(n.segments,{});{let r=AS(t),o={};if(Object.keys(r).some(i=>i!==N)&&n.children[N]&&n.numberOfChildren===1&&n.children[N].segments.length===0){let i=Pi(n.children[N],e,t);return new G(n.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Xy(n.children[i],e,s))}),Object.entries(n.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new G(n.segments,o)}}function xS(n,e,t){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;let s=n.segments[o],a=t[r];if(ji(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!ky(c,l,s))return i;r+=2}else{if(!ky(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function ah(n,e,t){let r=n.segments.slice(0,e),o=0;for(;o<t.length;){let i=t[o];if(ji(i)){let c=RS(i.outlets);return new G(r,c)}if(o===0&&Fc(t[0])){let c=n.segments[e];r.push(new Cn(c.path,Oy(t[0]))),o++;continue}let s=ji(i)?i.outlets[N]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Fc(a)?(r.push(new Cn(s,Oy(a))),o+=2):(r.push(new Cn(s,{})),o++)}return new G(r,{})}function RS(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ah(new G([],{}),0,r))}),e}function Oy(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ky(n,e,t){return n==t.path&&xt(e,t.parameters)}var Fi="imperative",ge=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ge||{}),We=class{id;url;constructor(e,t){this.id=e,this.url=t}},cr=class extends We{type=ge.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wt=class extends We{urlAfterRedirects;type=ge.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ne=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Ne||{}),Vi=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Vi||{}),Rt=class extends We{reason;code;type=ge.NavigationCancel;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kt=class extends We{reason;code;type=ge.NavigationSkipped;constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o}},po=class extends We{error;target;type=ge.NavigationError;constructor(e,t,r,o){super(e,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ui=class extends We{urlAfterRedirects;state;type=ge.RoutesRecognized;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jc=class extends We{urlAfterRedirects;state;type=ge.GuardsCheckStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vc=class extends We{urlAfterRedirects;state;shouldActivate;type=ge.GuardsCheckEnd;constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uc=class extends We{urlAfterRedirects;state;type=ge.ResolveStart;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bc=class extends We{urlAfterRedirects;state;type=ge.ResolveEnd;constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$c=class{route;type=ge.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hc=class{route;type=ge.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zc=class{snapshot;type=ge.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gc=class{snapshot;type=ge.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qc=class{snapshot;type=ge.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wc=class{snapshot;type=ge.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Bi=class{},go=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function NS(n){return!(n instanceof Bi)&&!(n instanceof go)}function OS(n,e){return n.providers&&!n._injector&&(n._injector=mi(n.providers,e,`Route: ${n.path}`)),n._injector??e}function pt(n){return n.outlet||N}function kS(n,e){let t=n.filter(r=>pt(r)===e);return t.push(...n.filter(r=>pt(r)!==e)),t}function yo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Kc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yo(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new _o(this.rootInjector)}},_o=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Kc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(I(le))};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zc=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=ch(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=ch(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=lh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return lh(e,this._root).map(t=>t.value)}};function ch(n,e){if(n===e.value)return e;for(let t of e.children){let r=ch(n,t);if(r)return r}return null}function lh(n,e){if(n===e.value)return[e];for(let t of e.children){let r=lh(n,t);if(r.length)return r.unshift(e),r}return[]}var qe=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function lo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var $i=class extends Zc{snapshot;constructor(e,t){super(e),this.snapshot=t,vh(this,e)}toString(){return this.snapshot.toString()}};function e_(n){let e=PS(n),t=new me([new Cn("",{})]),r=new me({}),o=new me({}),i=new me({}),s=new me(""),a=new In(t,r,i,s,o,N,n,e.root);return a.snapshot=e.root,new $i(new qe(a,[]),e)}function PS(n){let e={},t={},r={},i=new ir([],e,r,"",t,N,n,null,{});return new Hi("",new qe(i,[]))}var In=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(M(l=>l[Wi]))??S(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(M(e=>sr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(M(e=>sr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yc(n,e,t="emptyOnly"){let r,{routeConfig:o}=n;return e!==null&&(t==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),n.params),data:w(w({},e.data),n.data),resolve:w(w(w(w({},n.data),e.data),o?.data),n._resolvedData)}:r={params:w({},n.params),data:w({},n.data),resolve:w(w({},n.data),n._resolvedData??{})},o&&n_(o)&&(r.resolve[Wi]=o.title),r}var ir=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Wi]}constructor(e,t,r,o,i,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=sr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=sr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Hi=class extends Zc{url;constructor(e,t){super(t),this.url=e,vh(this,t)}toString(){return t_(this._root)}};function vh(n,e){e.value._routerState=n,e.children.forEach(t=>vh(n,t))}function t_(n){let e=n.children.length>0?` { ${n.children.map(t_).join(", ")} } `:"";return`${n.value}${e}`}function th(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xt(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),xt(e.params,t.params)||n.paramsSubject.next(t.params),cS(e.url,t.url)||n.urlSubject.next(t.url),xt(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function uh(n,e){let t=xt(n.params,e.params)&&fS(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||uh(n.parent,e.parent))}function n_(n){return typeof n.title=="string"||n.title===null}var r_=new b(""),Zi=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=N;activateEvents=new ne;deactivateEvents=new ne;attachEvents=new ne;detachEvents=new ne;routerOutletData=Jv(void 0);parentContexts=_(_o);location=_(zt);changeDetector=_(bi);inputBinder=_(el,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new dh(t,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xn]})}return n})(),dh=class{route;childContexts;parent;outletData;constructor(e,t,r,o){this.route=e,this.childContexts=t,this.parent=r,this.outletData=o}get(e,t){return e===In?this.route:e===_o?this.childContexts:e===r_?this.outletData:this.parent.get(e,t)}},el=new b("");var yh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ge({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Ae(0,"router-outlet")},dependencies:[Zi],encapsulation:2})}return n})();function _h(n){let e=n.children&&n.children.map(_h),t=e?j(w({},n),{children:e}):w({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==N&&(t.component=yh),t}function FS(n,e,t){let r=zi(n,e._root,t?t._root:void 0);return new $i(r,e)}function zi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let o=LS(n,e,t);return new qe(r,o)}else{if(n.shouldAttach(e.value)){let i=n.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>zi(n,a)),s}}let r=jS(e.value),o=e.children.map(i=>zi(n,i));return new qe(r,o)}}function LS(n,e,t){return e.children.map(r=>{for(let o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return zi(n,r,o);return zi(n,r)})}function jS(n){return new In(new me(n.url),new me(n.params),new me(n.queryParams),new me(n.fragment),new me(n.data),n.outlet,n.component,n)}var mo=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},o_="ngNavigationCancelingError";function Jc(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=i_(!1,Ne.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function i_(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[o_]=!0,t.cancellationCode=e,t}function VS(n){return s_(n)&&ho(n.url)}function s_(n){return!!n&&n[o_]}var US=(n,e,t,r)=>M(o=>(new fh(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)),fh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,o,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),th(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let o=lo(t);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=lo(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=lo(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let o=lo(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Wc(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Gc(e.value.snapshot))}activateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(th(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),th(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Qc=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fo=class{component;route;constructor(e,t){this.component=e,this.route=t}};function BS(n,e,t){let r=n._root,o=e?e._root:null;return ki(r,o,t,[r.value])}function $S(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function wo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Tu(n)?n:e.get(n):r}function ki(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=lo(e);return n.children.forEach(s=>{HS(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Li(a,t.getContext(s),o)),o}function HS(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=zS(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Qc(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?ki(n,e,a?a.children:null,r,o):ki(n,e,t,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new fo(a.outlet.component,s))}else s&&Li(e,a,o),o.canActivateChecks.push(new Qc(r)),i.component?ki(n,null,a?a.children:null,r,o):ki(n,null,t,r,o);return o}function zS(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!or(n.url,e.url);case"pathParamsOrQueryParamsChange":return!or(n.url,e.url)||!xt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uh(n,e)||!xt(n.queryParams,e.queryParams);case"paramsChange":default:return!uh(n,e)}}function Li(n,e,t){let r=lo(n),o=n.value;Object.entries(r).forEach(([i,s])=>{o.component?e?Li(s,e.children.getContext(i),t):Li(s,null,t):Li(s,e,t)}),o.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new fo(e.outlet.component,o)):t.canDeactivateChecks.push(new fo(null,o)):t.canDeactivateChecks.push(new fo(null,o))}function Yi(n){return typeof n=="function"}function GS(n){return typeof n=="boolean"}function qS(n){return n&&Yi(n.canLoad)}function WS(n){return n&&Yi(n.canActivate)}function KS(n){return n&&Yi(n.canActivateChild)}function ZS(n){return n&&Yi(n.canDeactivate)}function YS(n){return n&&Yi(n.canMatch)}function a_(n){return n instanceof ct||n?.name==="EmptyError"}var Nc=Symbol("INITIAL_VALUE");function vo(){return Ie(n=>la(n.map(e=>e.pipe(Ft(1),uu(Nc)))).pipe(M(e=>{for(let t of e)if(t!==!0){if(t===Nc)return Nc;if(t===!1||JS(t))return t}return!0}),Le(e=>e!==Nc),Ft(1)))}function JS(n){return ho(n)||n instanceof mo}function QS(n,e){return ce(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?S(j(w({},t),{guardsResult:!0})):XS(s,r,o,n).pipe(ce(a=>a&&GS(a)?eT(r,i,n,e):S(a)),M(a=>j(w({},t),{guardsResult:a})))})}function XS(n,e,t,r){return ee(n).pipe(ce(o=>iT(o.component,o.route,t,e,r)),Lt(o=>o!==!0,!0))}function eT(n,e,t,r){return ee(e).pipe(tn(o=>Pr(nT(o.route.parent,r),tT(o.route,r),oT(n,o.path,t),rT(n,o.route,t))),Lt(o=>o!==!0,!0))}function tT(n,e){return n!==null&&e&&e(new qc(n)),S(!0)}function nT(n,e){return n!==null&&e&&e(new zc(n)),S(!0)}function rT(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return S(!0);let o=r.map(i=>Bo(()=>{let s=yo(e)??t,a=wo(i,s),c=WS(a)?a.canActivate(e,n):ye(s,()=>a(e,n));return Zt(c).pipe(Lt())}));return S(o).pipe(vo())}function oT(n,e,t){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>$S(s)).filter(s=>s!==null).map(s=>Bo(()=>{let a=s.guards.map(c=>{let l=yo(s.node)??t,u=wo(c,l),d=KS(u)?u.canActivateChild(r,n):ye(l,()=>u(r,n));return Zt(d).pipe(Lt())});return S(a).pipe(vo())}));return S(i).pipe(vo())}function iT(n,e,t,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return S(!0);let s=i.map(a=>{let c=yo(e)??o,l=wo(a,c),u=ZS(l)?l.canDeactivate(n,e,t,r):ye(c,()=>l(n,e,t,r));return Zt(u).pipe(Lt())});return S(s).pipe(vo())}function sT(n,e,t,r){let o=e.canLoad;if(o===void 0||o.length===0)return S(!0);let i=o.map(s=>{let a=wo(s,n),c=qS(a)?a.canLoad(e,t):ye(n,()=>a(e,t));return Zt(c)});return S(i).pipe(vo(),c_(r))}function c_(n){return tu(he(e=>{if(typeof e!="boolean")throw Jc(n,e)}),M(e=>e===!0))}function aT(n,e,t,r){let o=e.canMatch;if(!o||o.length===0)return S(!0);let i=o.map(s=>{let a=wo(s,n),c=YS(a)?a.canMatch(e,t):ye(n,()=>a(e,t));return Zt(c)});return S(i).pipe(vo(),c_(r))}var Gi=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},qi=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function co(n){return kr(new Gi(n))}function cT(n){return kr(new D(4e3,!1))}function lT(n){return kr(i_(!1,Ne.GuardRejected))}var hh=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return S(r);if(o.numberOfChildren>1||!o.children[N])return cT(`${e.redirectTo}`);o=o.children[N]}}applyRedirectCommands(e,t,r,o,i){return uT(t,o,i).pipe(M(s=>{if(s instanceof Nt)throw new qi(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new qi(a);return a}))}applyRedirectCreateUrlTree(e,t,r,o){let i=this.createSegmentGroup(e,t.root,r,o);return new Nt(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,o){let i=this.createSegments(e,t.segments,r,o),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new G(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){let o=r[t.path.substring(1)];if(!o)throw new D(4001,!1);return o}findOrReturn(e,t){let r=0;for(let o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}};function uT(n,e,t){if(typeof n=="string")return S(n);let r=n,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:l,data:u,title:d}=e;return Zt(ye(t,()=>r({params:l,data:u,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var ph={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dT(n,e,t,r,o){let i=l_(n,e,t);return i.matched?(r=OS(e,r),aT(r,e,t,o).pipe(M(s=>s===!0?i:w({},ph)))):S(i)}function l_(n,e,t){if(e.path==="**")return fT(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?w({},ph):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(e.matcher||jy)(t,n,e);if(!o)return w({},ph);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?w(w({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function fT(n){return{matched:!0,parameters:n.length>0?Uy(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Py(n,e,t,r){return t.length>0&&gT(n,t,r)?{segmentGroup:new G(e,pT(r,new G(t,n.children))),slicedSegments:[]}:t.length===0&&mT(n,t,r)?{segmentGroup:new G(n.segments,hT(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new G(n.segments,n.children),slicedSegments:t}}function hT(n,e,t,r){let o={};for(let i of t)if(tl(n,e,i)&&!r[pt(i)]){let s=new G([],{});o[pt(i)]=s}return w(w({},r),o)}function pT(n,e){let t={};t[N]=e;for(let r of n)if(r.path===""&&pt(r)!==N){let o=new G([],{});t[pt(r)]=o}return t}function gT(n,e,t){return t.some(r=>tl(n,e,r)&&pt(r)!==N)}function mT(n,e,t){return t.some(r=>tl(n,e,r))}function tl(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function vT(n,e,t){return e.length===0&&!n.children[t]}var gh=class{};function yT(n,e,t,r,o,i,s="emptyOnly"){return new mh(n,e,t,r,o,s,i).recognize()}var _T=31,mh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,o,i,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hh(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){let e=Py(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(M(({children:t,rootSnapshot:r})=>{let o=new qe(r,t),i=new Hi("",o),s=Zy(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let t=new ir([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),N,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,N,t).pipe(M(r=>({children:r,rootSnapshot:t})),en(r=>{if(r instanceof qi)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Gi?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,i):this.processSegment(e,t,r,r.segments,o,!0,i).pipe(M(s=>s instanceof qe?[s]:[]))}processChildren(e,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return ee(i).pipe(tn(s=>{let a=r.children[s],c=kS(t,s);return this.processSegmentGroup(e,c,a,s,o)}),lu((s,a)=>(s.push(...a),s)),nn(null),cu(),ce(s=>{if(s===null)return co(r);let a=u_(s);return wT(a),S(a)}))}processSegment(e,t,r,o,i,s,a){return ee(t).pipe(tn(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,o,i,s,a).pipe(en(l=>{if(l instanceof Gi)return S(null);throw l}))),Lt(c=>!!c),en(c=>{if(a_(c))return vT(r,o,i)?S(new gh):co(r);throw c}))}processSegmentAgainstRoute(e,t,r,o,i,s,a,c){return pt(r)!==s&&(s===N||!tl(o,i,r))?co(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,i,s,c):co(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=l_(t,o,i);if(!c)return co(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_T&&(this.allowRedirects=!1));let f=new ir(i,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Fy(o),pt(o),o.component??o._loadedComponent??null,o,Ly(o)),g=Yc(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(g.params),f.data=Object.freeze(g.data),this.applyRedirects.applyRedirectCommands(u,o.redirectTo,d,f,e).pipe(Ie(v=>this.applyRedirects.lineralizeSegments(o,v)),ce(v=>this.processSegment(e,r,t,v.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,o,i,s){let a=dT(t,r,o,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ie(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Ie(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:f}=c,g=new ir(h,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Fy(r),pt(r),r.component??r._loadedComponent??null,r,Ly(r)),m=Yc(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(m.params),g.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:y}=Py(t,h,f,l);if(y.length===0&&v.hasChildren())return this.processChildren(u,l,v,g).pipe(M(Z=>new qe(g,Z)));if(l.length===0&&y.length===0)return S(new qe(g,[]));let O=pt(r)===i;return this.processSegment(u,l,v,y,O?N:i,!0,g).pipe(M(Z=>new qe(g,Z instanceof qe?[Z]:[])))}))):co(t)))}getChildConfig(e,t,r){return t.children?S({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?S({routes:t._loadedRoutes,injector:t._loadedInjector}):sT(e,t,r,this.urlSerializer).pipe(ce(o=>o?this.configLoader.loadChildren(e,t).pipe(he(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):lT(t))):S({routes:[],injector:e})}};function wT(n){n.sort((e,t)=>e.value.outlet===N?-1:t.value.outlet===N?1:e.value.outlet.localeCompare(t.value.outlet))}function DT(n){let e=n.value.routeConfig;return e&&e.path===""}function u_(n){let e=[],t=new Set;for(let r of n){if(!DT(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):e.push(r)}for(let r of t){let o=u_(r.children);e.push(new qe(r.value,o))}return e.filter(r=>!t.has(r))}function Fy(n){return n.data||{}}function Ly(n){return n.resolve||{}}function ET(n,e,t,r,o,i){return ce(s=>yT(n,e,t,r,s.extractedUrl,o,i).pipe(M(({state:a,tree:c})=>j(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function bT(n,e){return ce(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return S(t);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let l of d_(c))s.add(l);let a=0;return ee(s).pipe(tn(c=>i.has(c)?CT(c,r,n,e):(c.data=Yc(c,c.parent,n).resolve,S(void 0))),he(()=>a++),Fr(1),ce(c=>a===s.size?S(t):Pe))})}function d_(n){let e=n.children.map(t=>d_(t)).flat();return[n,...e]}function CT(n,e,t,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!n_(o)&&(i[Wi]=o.title),Bo(()=>(n.data=Yc(n,n.parent,t).resolve,IT(i,n,e,r).pipe(M(s=>(n._resolvedData=s,n.data=w(w({},n.data),s),null)))))}function IT(n,e,t,r){let o=oh(n);if(o.length===0)return S({});let i={};return ee(o).pipe(ce(s=>ST(n[s],e,t,r).pipe(Lt(),he(a=>{if(a instanceof mo)throw Jc(new ar,a);i[s]=a}))),Fr(1),M(()=>i),en(s=>a_(s)?Pe:kr(s)))}function ST(n,e,t,r){let o=yo(e)??r,i=wo(n,o),s=i.resolve?i.resolve(e,t):ye(o,()=>i(e,t));return Zt(s)}function nh(n){return Ie(e=>{let t=n(e);return t?ee(t).pipe(M(()=>e)):S(e)})}var wh=(()=>{class n{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===N);return r}getResolvedTitleForRoute(t){return t.data[Wi]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:()=>_(f_),providedIn:"root"})}return n})(),f_=(()=>{class n extends wh{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(I(xy))};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ji=new b("",{providedIn:"root",factory:()=>({})}),Qi=new b(""),h_=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(xf);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return S(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=Zt(ye(t,()=>r.loadComponent())).pipe(M(g_),Ie(m_),he(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Pn(()=>{this.componentLoaders.delete(r)})),i=new Or(o,()=>new se).pipe(Nr());return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return S({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=p_(r,this.compiler,t,this.onLoadEndListener).pipe(Pn(()=>{this.childrenLoaders.delete(r)})),s=new Or(i,()=>new se).pipe(Nr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function p_(n,e,t,r){return Zt(ye(t,()=>n.loadChildren())).pipe(M(g_),Ie(m_),ce(o=>o instanceof ac||Array.isArray(o)?S(o):ee(e.compileModuleAsync(o))),M(o=>{r&&r(n);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(t).injector,s=i.get(Qi,[],{optional:!0,self:!0}).flat()),{routes:s.map(_h),injector:i}}))}function TT(n){return n&&typeof n=="object"&&"default"in n}function g_(n){return TT(n)?n.default:n}function m_(n){return S(n)}var nl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:()=>_(MT),providedIn:"root"})}return n})(),MT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),v_=new b("");var y_=new b(""),__=(()=>{class n{currentNavigation=Dt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new se;transitionAbortWithErrorSubject=new se;configLoader=_(h_);environmentInjector=_(le);destroyRef=_(pn);urlSerializer=_(Ki);rootContexts=_(_o);location=_(no);inputBindingEnabled=_(el,{optional:!0})!==null;titleStrategy=_(wh);options=_(Ji,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(nl);createViewTransition=_(v_,{optional:!0});navigationErrorHandler=_(y_,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>S(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new $c(o)),r=o=>this.events.next(new Hc(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;De(()=>{this.transitions?.next(j(w({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new me(null),this.transitions.pipe(Le(r=>r!==null),Ie(r=>{let o=!1;return S(r).pipe(Ie(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ne.SupersededByNewNavigation),Pe;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?j(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Kt(i.id,this.urlSerializer.serialize(i.rawUrl),"",Vi.IgnoredSameUrlNavigation)),i.resolve(!1),Pe;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return S(i).pipe(Ie(c=>(this.events.next(new cr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Pe:Promise.resolve(c))),ET(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),he(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(u=>(u.finalUrl=c.urlAfterRedirects,u));let l=new Ui(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:l,source:u,restoredState:d,extras:h}=i,f=new cr(c,this.urlSerializer.serialize(l),u,d);this.events.next(f);let g=e_(this.rootComponentType).snapshot;return this.currentTransition=r=j(w({},i),{targetSnapshot:g,urlAfterRedirects:l,extras:j(w({},h),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(m=>(m.finalUrl=l,m)),S(r)}else return this.events.next(new Kt(i.id,this.urlSerializer.serialize(i.extractedUrl),"",Vi.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Pe}),he(i=>{let s=new jc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),M(i=>(this.currentTransition=r=j(w({},i),{guards:BS(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),QS(this.environmentInjector,i=>this.events.next(i)),he(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Jc(this.urlSerializer,i.guardsResult);let s=new Vc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),Le(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Ne.GuardRejected),!1)),nh(i=>{if(i.guards.canActivateChecks.length!==0)return S(i).pipe(he(s=>{let a=new Uc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ie(s=>{let a=!1;return S(s).pipe(bT(this.paramsInheritanceStrategy,this.environmentInjector),he({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ne.NoDataFromResolver)}}))}),he(s=>{let a=new Bc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),nh(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let l=yo(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(he(u=>{a.component=u}),M(()=>{})))}for(let l of a.children)c.push(...s(l));return c};return la(s(i.targetSnapshot.root)).pipe(nn(null),Ft(1))}),nh(()=>this.afterPreactivation()),Ie(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?ee(a).pipe(M(()=>r)):S(r)}),M(i=>{let s=FS(t.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=j(w({},i),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),he(()=>{this.events.next(new Bi)}),US(this.rootContexts,t.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Ft(1),da(new L(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Le(()=>!o&&!r.targetRouterState),he(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ne.Aborted)}))),he({next:i=>{o=!0,this.lastSuccessfulNavigation=De(this.currentNavigation),this.events.next(new Wt(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),da(this.transitionAbortWithErrorSubject.pipe(he(i=>{throw i}))),Pn(()=>{o||this.cancelNavigationTransition(r,"",Ne.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),en(i=>{if(this.destroyed)return r.resolve(!1),Pe;if(o=!0,s_(i))this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),VS(i)?this.events.next(new go(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new po(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=ye(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof mo){let{message:c,cancellationCode:l}=Jc(this.urlSerializer,a);this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new go(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Pe}))}))}cancelNavigationTransition(t,r,o){let i=new Rt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=De(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AT(n){return n!==Fi}var w_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:()=>_(xT),providedIn:"root"})}return n})(),Xc=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},xT=(()=>{class n extends Xc{static \u0275fac=(()=>{let t;return function(o){return(t||(t=er(n)))(o||n)}})();static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D_=(()=>{class n{urlSerializer=_(Ki);options=_(Ji,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(no);urlHandlingStrategy=_(nl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Nt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof Nt?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=e_(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:()=>_(RT),providedIn:"root"})}return n})(),RT=(()=>{class n extends D_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof cr?this.updateStateMemento():t instanceof Kt?this.commitTransition(r):t instanceof Ui?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Bi?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Rt&&t.code!==Ne.SupersededByNewNavigation&&t.code!==Ne.Redirect?this.restoreHistory(r):t instanceof po?this.restoreHistory(r,!0):t instanceof Wt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){let a=this.browserPageId,c=w(w({},s),this.generateNgRouterState(o,a));this.location.replaceState(t,"",c)}else{let a=w(w({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=er(n)))(o||n)}})();static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dh(n,e){n.events.pipe(Le(t=>t instanceof Wt||t instanceof Rt||t instanceof po||t instanceof Kt),M(t=>t instanceof Wt||t instanceof Kt?0:(t instanceof Rt?t.code===Ne.Redirect||t.code===Ne.SupersededByNewNavigation:!1)?2:1),Le(t=>t!==2),Ft(1)).subscribe(()=>{e()})}var NT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Do=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(Cf);stateManager=_(D_);options=_(Ji,{optional:!0})||{};pendingTasks=_(Et);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(__);urlSerializer=_(Ki);location=_(no);urlHandlingStrategy=_(nl);injector=_(le);_events=new se;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(w_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Qi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(el,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ie;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=De(this.navigationTransitions.currentNavigation);if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Rt&&r.code!==Ne.Redirect&&r.code!==Ne.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wt)this.navigated=!0;else if(r instanceof go){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||AT(o.source)},s);this.scheduleNavigation(a,Fi,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}NS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=w({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(ze)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return De(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(_h),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=o?o.snapshot:this.routerState.snapshot.root;d=Yy(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Jy(d,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=ho(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Fi,null,r)}navigate(t,r={skipLocationChange:!1}){return kT(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=w({},NT):r===!1?o=w({},OT):o=r,ho(t))return Ry(this.currentUrlTree,t,o);let i=this.parseUrl(t);return Ry(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return Dh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kT(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new D(4008,!1)}var FT=new b("");function Eh(n,...e){return Br([{provide:Qi,multi:!0,useValue:n},[],{provide:In,useFactory:LT,deps:[Do]},{provide:cc,multi:!0,useFactory:jT},e.map(t=>t.\u0275providers)])}function LT(n){return n.routerState.root}function jT(){let n=_(lt);return e=>{let t=n.get(yn);if(e!==t.components[0])return;let r=n.get(Do),o=n.get(VT);n.get(UT)===1&&r.initialNavigation(),n.get(BT,null,{optional:!0})?.setUpPreloading(),n.get(FT,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var VT=new b("",{factory:()=>new se}),UT=new b("",{providedIn:"root",factory:()=>1});var BT=new b("");var rl=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Ae(0,"router-outlet")},dependencies:[Zi],encapsulation:2})};var x_=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(H(gi),H(Ht))};static \u0275dir=_e({type:n})}return n})(),zT=(()=>{class n extends x_{static \u0275fac=(()=>{let t;return function(o){return(t||(t=er(n)))(o||n)}})();static \u0275dir=_e({type:n,features:[St]})}return n})(),R_=new b("");var GT={provide:R_,useExisting:Ut(()=>dl),multi:!0};function qT(){let n=nt()?nt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var WT=new b(""),dl=(()=>{class n extends x_{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!qT())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(H(gi),H(Ht),H(WT,8))};static \u0275dir=_e({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&xe("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[eo([GT]),St]})}return n})();function KT(n){return n==null||ZT(n)===0}function ZT(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Sh=new b(""),N_=new b("");function YT(n){return KT(n.value)?{required:!0}:null}function E_(n){return null}function O_(n){return n!=null}function k_(n){return vn(n)?ee(n):n}function P_(n){let e={};return n.forEach(t=>{e=t!=null?w(w({},e),t):e}),Object.keys(e).length===0?null:e}function F_(n,e){return e.map(t=>t(n))}function JT(n){return!n.validate}function L_(n){return n.map(e=>JT(e)?e:t=>e.validate(t))}function QT(n){if(!n)return null;let e=n.filter(O_);return e.length==0?null:function(t){return P_(F_(t,e))}}function Th(n){return n!=null?QT(L_(n)):null}function XT(n){if(!n)return null;let e=n.filter(O_);return e.length==0?null:function(t){let r=F_(t,e).map(k_);return au(r).pipe(M(P_))}}function Mh(n){return n!=null?XT(L_(n)):null}function b_(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function eM(n){return n._rawValidators}function tM(n){return n._rawAsyncValidators}function bh(n){return n?Array.isArray(n)?n:[n]:[]}function il(n,e){return Array.isArray(n)?n.includes(e):n===e}function C_(n,e){let t=bh(e);return bh(n).forEach(o=>{il(t,o)||t.push(o)}),t}function I_(n,e){return bh(e).filter(t=>!il(n,t))}var sl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Th(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Mh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Co=class extends sl{name;get formDirective(){return null}get path(){return null}},os=class extends sl{_parent=null;name=null;valueAccessor=null},al=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},nM={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},W8=j(w({},nM),{"[class.ng-submitted]":"isSubmitted"}),j_=(()=>{class n extends al{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(H(os,2))};static \u0275dir=_e({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Dn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[St]})}return n})(),V_=(()=>{class n extends al{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(H(Co,10))};static \u0275dir=_e({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Dn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[St]})}return n})();var Xi="VALID",ol="INVALID",Eo="PENDING",es="DISABLED",Sn=class{},cl=class extends Sn{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ns=class extends Sn{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},rs=class extends Sn{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},bo=class extends Sn{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ch=class extends Sn{source;constructor(e){super(),this.source=e}},Ih=class extends Sn{source;constructor(e){super(),this.source=e}};function U_(n){return(fl(n)?n.validators:n)||null}function rM(n){return Array.isArray(n)?Th(n):n||null}function B_(n,e){return(fl(e)?e.asyncValidators:n)||null}function oM(n){return Array.isArray(n)?Mh(n):n||null}function fl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function iM(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[t])throw new D(1001,"")}function sM(n,e,t){n._forEachChild((r,o)=>{if(t[o]===void 0)throw new D(1002,"")})}var ll=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return De(this.statusReactive)}set status(e){De(()=>this.statusReactive.set(e))}_status=to(()=>this.statusReactive());statusReactive=Dt(void 0);get valid(){return this.status===Xi}get invalid(){return this.status===ol}get pending(){return this.status==Eo}get disabled(){return this.status===es}get enabled(){return this.status!==es}errors;get pristine(){return De(this.pristineReactive)}set pristine(e){De(()=>this.pristineReactive.set(e))}_pristine=to(()=>this.pristineReactive());pristineReactive=Dt(!0);get dirty(){return!this.pristine}get touched(){return De(this.touchedReactive)}set touched(e){De(()=>this.touchedReactive.set(e))}_touched=to(()=>this.touchedReactive());touchedReactive=Dt(!1);get untouched(){return!this.touched}_events=new se;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(C_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(C_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(I_(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(I_(e,this._rawAsyncValidators))}hasValidator(e){return il(this._rawValidators,e)}hasAsyncValidator(e){return il(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(j(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new rs(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new rs(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(j(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ns(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ns(!0,r))}markAsPending(e={}){this.status=Eo;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(j(w({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=es,this.errors=null,this._forEachChild(o=>{o.disable(j(w({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cl(this.value,r)),this._events.next(new bo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xi,this._forEachChild(r=>{r.enable(j(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(j(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xi||this.status===Eo)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cl(this.value,t)),this._events.next(new bo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(j(w({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?es:Xi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Eo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=k_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new bo(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?es:this.errors?ol:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eo)?Eo:this._anyControlsHaveStatus(ol)?ol:Xi}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new ns(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new rs(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=rM(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=oM(this._rawAsyncValidators)}},ul=class extends ll{constructor(e,t,r){super(U_(t),B_(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sM(this,!0,e),Object.keys(e).forEach(r=>{iM(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ah=new b("",{providedIn:"root",factory:()=>xh}),xh="always";function aM(n,e){return[...e.path,n]}function $_(n,e,t=xh){H_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),lM(n,e),dM(n,e),uM(n,e),cM(n,e)}function S_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cM(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function H_(n,e){let t=eM(n);e.validator!==null?n.setValidators(b_(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=tM(n);e.asyncValidator!==null?n.setAsyncValidators(b_(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();S_(e._rawValidators,o),S_(e._rawAsyncValidators,o)}function lM(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&z_(n,e)})}function uM(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&z_(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function z_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dM(n,e){let t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function fM(n,e){n==null,H_(n,e)}function hM(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function pM(n){return Object.getPrototypeOf(n.constructor)===zT}function gM(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function mM(n,e){if(!e)return null;Array.isArray(e);let t,r,o;return e.forEach(i=>{i.constructor===dl?t=i:pM(i)?r=i:o=i}),o||r||t||null}var vM={provide:Co,useExisting:Ut(()=>Rh)},ts=Promise.resolve(),Rh=(()=>{class n extends Co{callSetDisabledState;get submitted(){return De(this.submittedReactive)}_submitted=to(()=>this.submittedReactive());submittedReactive=Dt(!1);_directives=new Set;form;ngSubmit=new ne;options;constructor(t,r,o){super(),this.callSetDisabledState=o,this.form=new ul({},Th(t),Mh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ts.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ts.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ts.then(()=>{let r=this._findContainer(t.path),o=new ul({});fM(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ts.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ts.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),gM(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ch(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Ih(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(H(Sh,10),H(N_,10),H(Ah,8))};static \u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&xe("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[eo([vM]),St]})}return n})();function T_(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function M_(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var yM=class extends ll{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(U_(t),B_(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fl(t)&&(t.nonNullable||t.initialValueIsDefault)&&(M_(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){T_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){T_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){M_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var _M={provide:os,useExisting:Ut(()=>Nh)},A_=Promise.resolve(),Nh=(()=>{class n extends os{_changeDetectorRef;callSetDisabledState;control=new yM;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ne;constructor(t,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=mM(this,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),hM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$_(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){A_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&yc(r);A_.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?aM(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(H(Co,9),H(Sh,10),H(N_,10),H(R_,10),H(bi,8),H(Ah,8))};static \u0275dir=_e({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[eo([_M]),St,Xn]})}return n})();var G_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var wM=(()=>{class n{_validator=E_;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):E_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=_e({type:n,features:[Xn]})}return n})();var DM={provide:Sh,useExisting:Ut(()=>Oh),multi:!0};var Oh=(()=>{class n extends wM{required;inputName="required";normalizeInput=yc;createValidator=t=>YT;enabled(t){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=er(n)))(o||n)}})();static \u0275dir=_e({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&lc("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[eo([DM]),St]})}return n})();var EM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=vt({})}return n})();var q_=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ah,useValue:t.callSetDisabledState??xh}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=vt({imports:[EM]})}return n})();var W_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};var is=class extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}},hl=class extends is{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},ss=class extends is{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},as=class extends is{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},kh=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(kh||{});var CM=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})},cs=class{constructor(e,{headers:t={},customFetch:r,region:o=kh.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=W_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return CM(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=t,a={},{region:c}=t;c||(c=this.region);let l=new URL(`${this.url}/${e}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));let d=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:u}).catch(m=>{throw new hl(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new ss(d);if(!d.ok)throw new as(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null,response:d}}catch(o){return{data:null,error:o,response:o instanceof as||o instanceof ss?o.context:void 0}}})}};var ow=rD(rw(),1),{PostgrestClient:iw,PostgrestQueryBuilder:dG,PostgrestFilterBuilder:fG,PostgrestTransformBuilder:hG,PostgrestBuilder:pG,PostgrestError:kM}=ow.default;var qh=class{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){let t=parseInt(process.versions.node.split(".")[0]);return t>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){let r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}},Wh=qh;var sw="2.15.1";var aw=`realtime-js/${sw}`,cw="1.0.0";var gs=1e4,lw=1e3,uw=100,ms=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(ms||{}),fe=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(fe||{}),rt=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(rt||{}),Kh=(function(n){return n.websocket="websocket",n})(Kh||{}),lr=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(lr||{});var gl=class{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){let o=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+o));s=s+o;let c=r.decode(e.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var So=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var X=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(X||{}),Yh=(n,e,t={})=>{var r;let o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,s)=>(i[s]=PM(s,n,e,o),i),{})},PM=(n,e,t,r)=>{let o=e.find(a=>a.name===n),i=o?.type,s=t[n];return i&&!r.includes(i)?dw(i,s):Zh(s)},dw=(n,e)=>{if(n.charAt(0)==="_"){let t=n.slice(1,n.length);return VM(e,t)}switch(n){case X.bool:return FM(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return LM(e);case X.json:case X.jsonb:return jM(e);case X.timestamp:return UM(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Zh(e);default:return Zh(e)}},Zh=n=>n,FM=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},LM=n=>{if(typeof n=="string"){let e=parseFloat(n);if(!Number.isNaN(e))return e}return n},jM=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},VM=(n,e)=>{if(typeof n!="string")return n;let t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let i,s=n.slice(1,t);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>dw(e,a))}return n},UM=n=>typeof n=="string"?n.replace(" ","T"):n,ml=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};var To=class{constructor(e,t,r={},o=gs){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var vs=class n{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=n.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){let i=this.cloneDeep(e),s=this.transformState(t),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),g=u.filter(v=>f.indexOf(v.presence_ref)<0),m=d.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(e,t,r,o){let{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){let d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,u,c)}),this.map(s,(a,c)=>{let l=e[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=l,o(a,l,c),l.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{let o=e[r];return"metas"in o?t[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ys=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(ys||{}),Yt=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(Yt||{});var _s=class n{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new To(this,rt.join,this.params,this.timeout),this.rejoinTimer=new So(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new vs(this),this.broadcastEndpointURL=ml(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){let{config:{broadcast:i,presence:s,private:a}}=this.params,c=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&o!==void 0?o:[],l=!!this.bindings[ys.PRESENCE]&&this.bindings[ys.PRESENCE].length>0,u={},d={broadcast:i,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e?.(Yt.CHANNEL_ERROR,h)),this._onClose(()=>e?.(Yt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",f=>p(this,[f],function*({postgres_changes:h}){var g;if(this.socket.setAuth(),h===void 0){e?.(Yt.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,v=(g=m?.length)!==null&&g!==void 0?g:0,y=[];for(let O=0;O<v;O++){let Z=m[O],{filter:{event:E,schema:$,table:ke,filter:J}}=Z,oe=h&&h[O];if(oe&&oe.event===E&&oe.schema===$&&oe.table===ke&&oe.filter===J)y.push(Object.assign(Object.assign({},Z),{id:oe.id}));else{this.unsubscribe(),this.state=fe.errored,e?.(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Yt.SUBSCRIBED);return}})).receive("error",h=>{this.state=fe.errored,e?.(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e?.(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this.state===fe.joined&&e===ys.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}send(r){return p(this,arguments,function*(e,t={}){var o,i;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=t.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fe.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new To(this,rt.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fe.closed,this.bindings={}}_fetchWithTimeout(e,t,r){return p(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(i),s})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new To(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uw){let t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,i;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=rt;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,t,r);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,m,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=f.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,m,v,y,O,Z;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let E=f.id,$=(g=f.filter)===null||g===void 0?void 0:g.event;return E&&((m=t.ids)===null||m===void 0?void 0:m.includes(E))&&($==="*"||$?.toLocaleLowerCase()===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let E=(O=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return E==="*"||E===((Z=t?.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:m,table:v,commit_timestamp:y,type:O,errors:Z}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:y,eventType:O,new:{},old:{},errors:Z}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let o=e.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&n.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Yh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Yh(e.columns,e.old_record)),t}};var fw=()=>{},vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$M=[1e3,2e3,5e3,1e4],HM=1e4,zM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ws=class{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gs,this.transport=null,this.heartbeatIntervalMs=vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fw,this.ref=0,this.reconnectTimer=null,this.logger=fw,this.conn=null,this.sendBuffer=[],this.serializer=new gl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Kh.websocket}`,this.httpEndpoint=ml(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Wh.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");let t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cw}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ms.connecting:return lr.Connecting;case ms.open:return lr.Open;case ms.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){let r=`realtime:${e}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{let i=new _s(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){let{topic:t,event:r,payload:o,ref:i}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e=null){return p(this,null,function*(){this._authPromise=this._performAuth(e);try{yield this._authPromise}finally{this._authPromise=null}})}sendHeartbeat(){return p(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lw,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{t.topic==="phoenix"&&t.event==="phx_reply"&&this.heartbeatCallback(t.payload.status==="ok"?"ok":"error"),t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:r,event:o,payload:i,ref:s}=t,a=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${o} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(o,i,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;let r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{let r=new Blob([zM],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}_performAuth(e=null){return p(this,null,function*(){let t;e?t=e:this.accessToken?t=yield this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{let o={access_token:t,version:aw};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:t})}))})}_waitForAuthIfNeeded(){return p(this,null,function*(){this._authPromise&&(yield this._authPromise)})}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new So(()=>p(this,null,function*(){setTimeout(()=>p(this,null,function*(){yield this._waitForAuthIfNeeded(),this.isConnected()||this.connect()}),vl.RECONNECT_DELAY)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,i,s,a,c,l;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:gs,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:vl.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=e?.accessToken)!==null&&s!==void 0?s:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e?.reconnectAfterMs)!==null&&a!==void 0?a:u=>$M[u-1]||HM,this.encode=(c=e?.encode)!==null&&c!==void 0?c:(u,d)=>d(JSON.stringify(u)),this.decode=(l=e?.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};var Mo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function re(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var yl=class extends Mo{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ur=class extends Mo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};var GM=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})},wl=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},hw=()=>GM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),_l=n=>{if(Array.isArray(n))return n.map(t=>_l(t));if(typeof n=="function"||n!==Object(n))return n;let e={};return Object.entries(n).forEach(([t,r])=>{let o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[o]=_l(r)}),e},pw=n=>{if(typeof n!="object"||n===null)return!1;let e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var dr=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})},Jh=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),qM=(n,e,t)=>dr(void 0,void 0,void 0,function*(){let r=yield hw();n instanceof r&&!t?.noResolveJson?n.json().then(o=>{let i=n.status||500,s=o?.statusCode||i+"";e(new yl(Jh(o),i,s))}).catch(o=>{e(new ur(Jh(o),o))}):e(new ur(Jh(n),n))}),WM=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"||!r?o:(pw(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function Ds(n,e,t,r,o,i){return dr(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,WM(e,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>qM(c,a,r))})})}function Ao(n,e,t,r){return dr(this,void 0,void 0,function*(){return Ds(n,"GET",e,t,r)})}function ot(n,e,t,r,o){return dr(this,void 0,void 0,function*(){return Ds(n,"POST",e,r,o,t)})}function Es(n,e,t,r,o){return dr(this,void 0,void 0,function*(){return Ds(n,"PUT",e,r,o,t)})}function gw(n,e,t,r){return dr(this,void 0,void 0,function*(){return Ds(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Dl(n,e,t,r,o){return dr(this,void 0,void 0,function*(){return Ds(n,"DELETE",e,r,o,t)})}var Oe=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})},KM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},El=class{constructor(e,t={},r,o){this.url=e,this.headers=t,this.bucketId=r,this.fetch=wl(o)}uploadOrUpdate(e,t,r,o){return Oe(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},mw),o),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(t),u=this._getFinalPath(l),d=yield(e=="PUT"?Es:ot)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}})}upload(e,t,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return Oe(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(e),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c,l=Object.assign({upsert:mw.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield Es(this.fetch,a.toString(),c,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(re(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return Oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");let i=yield ot(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Mo("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}update(e,t,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}})}copy(e,t,r){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return Oe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),i=yield ot(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return Oe(this,void 0,void 0,function*(){try{let o=yield ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}})}download(e,t){return Oe(this,void 0,void 0,function*(){let o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield Ao(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}})}info(e){return Oe(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{let r=yield Ao(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:_l(r),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}exists(e){return Oe(this,void 0,void 0,function*(){let t=this._getFinalPath(e);try{return yield gw(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(re(r)&&r instanceof ur){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){let r=this._getFinalPath(e),o=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&o.push(i);let a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(e){return Oe(this,void 0,void 0,function*(){try{return{data:yield Dl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}list(e,t,r){return Oe(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},KM),t),{prefix:e||""});return{data:yield ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}})}listV2(e,t){return Oe(this,void 0,void 0,function*(){try{let r=Object.assign({},e);return{data:yield ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};var vw="2.11.0";var yw={"X-Client-Info":`storage-js/${vw}`};var xo=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})},bl=class{constructor(e,t={},r,o){let i=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},yw),t),this.fetch=wl(r)}listBuckets(){return xo(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(re(e))return{data:null,error:e};throw e}})}getBucket(e){return xo(this,void 0,void 0,function*(){try{return{data:yield Ao(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return xo(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return xo(this,void 0,void 0,function*(){try{return{data:yield Es(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}})}emptyBucket(e){return xo(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}deleteBucket(e){return xo(this,void 0,void 0,function*(){try{return{data:yield Dl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}})}};var bs=class extends bl{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new El(this.url,this.headers,e,this.fetch)}};var _w="2.56.0";var Cs="";typeof Deno<"u"?Cs="deno":typeof document<"u"?Cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cs="react-native":Cs="node";var ZM={"X-Client-Info":`supabase-js-${Cs}/${_w}`},ww={headers:ZM},Dw={schema:"public"},Ew={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bw={};lp();var YM=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})},JM=n=>{let e;return n?e=n:typeof fetch>"u"?e=ap:e=fetch,(...t)=>e(...t)},QM=()=>typeof Headers>"u"?cp:Headers,Cw=(n,e,t)=>{let r=JM(t),o=QM();return(i,s)=>YM(void 0,void 0,void 0,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:n,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",n),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};var XM=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})};function Iw(n){return n.endsWith("/")?n:n+"/"}function Sw(n,e){var t,r;let{db:o,auth:i,realtime:s,global:a}=n,{db:c,auth:l,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(t=d?.headers)!==null&&t!==void 0?t:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>XM(this,void 0,void 0,function*(){return""})};return n.accessToken?h.accessToken=n.accessToken:delete h.accessToken,h}var Cl="2.71.1";var fr=30*1e3,Il=3,Sl=Il*fr,Tw="http://localhost:9999",Mw="supabase.auth.token";var Aw={"X-Client-Info":`gotrue-js/${Cl}`};var Is="X-Supabase-Api-Version",Qh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rw=600*1e3;var Ss=class extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function x(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var Tl=class extends Ss{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function Nw(n){return x(n)&&n.name==="AuthApiError"}var Ro=class extends Ss{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},Ot=class extends Ss{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}},it=class extends Ot{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Ow(n){return x(n)&&n.name==="AuthSessionMissingError"}var hr=class extends Ot{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},pr=class extends Ot{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},gr=class extends Ot{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function kw(n){return x(n)&&n.name==="AuthImplicitGrantRedirectError"}var Ts=class extends Ot{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},No=class extends Ot{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function Ml(n){return x(n)&&n.name==="AuthRetryableFetchError"}var Ms=class extends Ot{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var mr=class extends Ot{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};var Al="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pw=` 	
\r=`.split(""),eA=(()=>{let n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Pw.length;e+=1)n[Pw[e].charCodeAt(0)]=-2;for(let e=0;e<Al.length;e+=1)n[Al[e].charCodeAt(0)]=e;return n})();function Fw(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(Al[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){let r=e.queue>>e.queuedBits-6&63;t(Al[r]),e.queuedBits-=6}}function Lw(n,e,t){let r=eA[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Xh(n){let e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{rA(s,r,t)};for(let s=0;s<n.length;s+=1)Lw(n.charCodeAt(s),o,i);return e.join("")}function tA(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function nA(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}tA(r,e)}}function rA(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function jw(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)Lw(n.charCodeAt(o),t,r);return new Uint8Array(e)}function Vw(n){let e=[];return nA(n,t=>e.push(t)),new Uint8Array(e)}function Uw(n){let e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>Fw(o,t,r)),Fw(null,t,r),e.join("")}function Bw(n){return Math.round(Date.now()/1e3)+n}function $w(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}var st=()=>typeof window<"u"&&typeof document<"u",vr={tested:!1,writable:!1},xl=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vr.tested)return vr.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),vr.tested=!0,vr.writable=!0}catch{vr.tested=!0,vr.writable=!1}return vr.writable};function Hw(n){let e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{e[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}var Rl=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},zw=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",yr=(n,e,t)=>p(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),Tn=(n,e)=>p(null,null,function*(){let t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Jt=(n,e)=>p(null,null,function*(){yield n.removeItem(e)}),As=class n{constructor(){this.promise=new n.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};As.promiseConstructor=Promise;function Nl(n){let e=n.split(".");if(e.length!==3)throw new mr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!xw.test(e[r]))throw new mr("JWT not in base64url format");return{header:JSON.parse(Xh(e[0])),payload:JSON.parse(Xh(e[1])),signature:jw(e[2]),raw:{header:e[0],payload:e[1]}}}function Gw(n){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function qw(n,e){return new Promise((r,o)=>{p(null,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield n(i);if(!e(i,null,s)){r(s);return}}catch(s){if(!e(i,s)){o(s);return}}})})}function oA(n){return("0"+n.toString(16)).substr(-2)}function iA(){let e=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,oA).join("")}function sA(n){return p(this,null,function*(){let t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function aA(n){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let t=yield sA(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function _r(n,e,t=!1){return p(this,null,function*(){let r=iA(),o=r;t&&(o+="/PASSWORD_RECOVERY"),yield yr(n,`${e}-code-verifier`,o);let i=yield aA(r);return[i,r===i?"plain":"s256"]})}var cA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ww(n){let e=n.headers.get(Is);if(!e||!e.match(cA))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Kw(n){if(!n)throw new Error("Missing exp claim");let e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Zw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var lA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wr(n){if(!lA.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ol(){let n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){let r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ep(n){return JSON.parse(JSON.stringify(n))}var uA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},Dr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),dA=[502,503,504];function Yw(n){return p(this,null,function*(){var e;if(!zw(n))throw new No(Dr(n),0);if(dA.includes(n.status))throw new No(Dr(n),n.status);let t;try{t=yield n.json()}catch(i){throw new Ro(Dr(i),i)}let r,o=Ww(n);if(o&&o.getTime()>=Qh["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Ms(Dr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new it}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Ms(Dr(t),n.status,t.weak_password.reasons);throw new Tl(Dr(t),n.status||500,r)})}var fA=(n,e,t,r)=>{let o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function P(n,e,t,r){return p(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Is]||(i[Is]=Qh["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield hA(n,e,t+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function hA(n,e,t,r,o,i){return p(this,null,function*(){let s=fA(e,r,o,i),a;try{a=yield n(t,Object.assign({},s))}catch(c){throw console.error(c),new No(Dr(c),0)}if(a.ok||(yield Yw(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Yw(c)}})}function kt(n){var e;let t=null;pA(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Bw(n.expires_in)));let r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function tp(n){let e=kt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Pt(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Jw(n){return{data:n,error:null}}function Qw(n){let{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=n,s=uA(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Xw(n){return n}function pA(n){return n.access_token&&n.refresh_token&&n.expires_in}var kl=["global","local","others"];var gA=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},Oo=class{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Rl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return p(this,arguments,function*(e,t=kl[0]){if(kl.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kl.join(", ")}`);try{return yield P(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(x(o))return{data:null,error:o};throw o}})}inviteUserByEmail(r){return p(this,arguments,function*(e,t={}){try{return yield P(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Pt})}catch(o){if(x(o))return{data:{user:null},error:o};throw o}})}generateLink(e){return p(this,null,function*(){try{let{options:t}=e,r=gA(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield P(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Qw,redirectTo:t?.redirectTo})}catch(t){if(x(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return p(this,null,function*(){try{return yield P(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pt})}catch(t){if(x(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return p(this,null,function*(){var t,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield P(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Xw});if(u.error)throw u.error;let d=yield u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(x(l))return{data:{users:[]},error:l};throw l}})}getUserById(e){return p(this,null,function*(){wr(e);try{return yield P(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pt})}catch(t){if(x(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return p(this,null,function*(){wr(e);try{return yield P(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Pt})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return p(this,null,function*(){wr(e);try{return yield P(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Pt})}catch(r){if(x(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){wr(e.userId);try{let{data:t,error:r}=yield P(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(x(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return p(this,null,function*(){wr(e.userId),wr(e.id);try{return{data:yield P(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(x(t))return{data:null,error:t};throw t}})}};function np(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function eD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Er={debug:!!(globalThis&&xl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},xs=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Pl=class extends xs{};function rp(n,e,t){return p(this,null,function*(){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);let r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>p(null,null,function*(){if(o){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield t()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Pl(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Er.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}eD();var mA={url:Tw,storageKey:Mw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Aw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function tD(n,e,t){return p(this,null,function*(){return yield t()})}var ko={},op=(()=>{class n{constructor(t){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&st()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},mA),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Oo({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Rl(i.fetch),this.lock=i.lock||tD,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:st()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=rp:this.lock=tD,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:xl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=np(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=np(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cl}) ${new Date().toISOString()}`,...t),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){var t;try{let r=Hw(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),st()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),kw(s)){let l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>p(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return x(r)?{error:r}:{error:new Ro("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return p(this,null,function*(){var r,o,i;try{let s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:kt}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(t){return p(this,null,function*(){var r,o,i;try{let s;if("email"in t){let{email:d,password:h,options:f}=t,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield _r(this.storage,this.storageKey)),s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:kt})}else if("phone"in t){let{phone:d,password:h,options:f}=t;s=yield P(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:kt})}else throw new pr("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(x(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(t){return p(this,null,function*(){try{let r;if("email"in t){let{email:s,password:a,options:c}=t;r=yield P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:tp})}else if("phone"in t){let{phone:s,password:a,options:c}=t;r=yield P(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:tp})}else throw new pr("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new hr}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return p(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(t){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return p(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return p(this,null,function*(){var r,o,i,s,a,c,l,u,d,h,f,g;let m,v;if("message"in t)m=t.message,v=t.signature;else{let{chain:y,wallet:O,statement:Z,options:E}=t,$;if(st())if(typeof O=="object")$=O;else{let J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))$=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=O}let ke=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in $&&$.signIn){let J=yield $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:ke.host,uri:ke.href}),Z?{statement:Z}:null)),oe;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")oe=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)oe=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in oe&&"signature"in oe&&(typeof oe.signedMessage=="string"||oe.signedMessage instanceof Uint8Array)&&oe.signature instanceof Uint8Array)m=typeof oe.signedMessage=="string"?oe.signedMessage:new TextDecoder().decode(oe.signedMessage),v=oe.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${ke.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...Z?["",Z,""]:[""],"Version: 1",`URI: ${ke.href}`,`Issued At: ${(i=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=E?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((a=E?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((l=E?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((h=(d=E?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...E.signInWithSolana.resources.map(oe=>`- ${oe}`)]:[]].join(`
`);let J=yield $.signMessage(new TextEncoder().encode(m),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=J}}try{let{data:y,error:O}=yield P(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Uw(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:kt});if(O)throw O;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new hr}:(y.session&&(yield this._saveSession(y.session),yield this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:O})}catch(y){if(x(y))return{data:{user:null,session:null},error:y};throw y}})}_exchangeCodeForSession(t){return p(this,null,function*(){let r=yield Tn(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield P(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:kt});if(yield Jt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new hr}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(x(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(t){return p(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=t,c=yield P(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:kt}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new hr}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return p(this,null,function*(){var r,o,i,s,a;try{if("email"in t){let{email:c,options:l}=t,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield _r(this.storage,this.storageKey));let{error:h}=yield P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){let{phone:c,options:l}=t,{data:u,error:d}=yield P(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new pr("You must provide either an email or phone number.")}catch(c){if(x(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return p(this,null,function*(){var r,o;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(o=t.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield P(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:kt});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(x(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(t){return p(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield _r(this.storage,this.storageKey)),yield P(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Jw})}catch(s){if(x(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(t=>p(this,null,function*(){let{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new it;let{error:i}=yield P(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(t){if(x(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return p(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:o,type:i,options:s}=t,{error:a}=yield P(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){let{phone:o,type:i,options:s}=t,{data:a,error:c}=yield P(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new pr("You must provide either an email or phone number and a type")}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(r=>p(this,null,function*(){return r}))}))})}_acquireLock(t,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=p(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(p(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,t,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(p(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield Tn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let o=t.expires_at?t.expires_at*1e3-Date.now()<Sl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){let a=yield Tn(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=Ol()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return p(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return p(this,null,function*(){try{return t?yield P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pt}):yield this._useSession(r=>p(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new it}:yield P(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Pt})}))}catch(r){if(x(r))return Ow(r)&&(yield this._removeSession(),yield Jt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return p(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(o){return p(this,arguments,function*(t,r={}){try{return yield this._useSession(i=>p(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new it;let c=s.session,l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=yield _r(this.storage,this.storageKey));let{data:d,error:h}=yield P(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Pt});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(x(i))return{data:{user:null},error:i};throw i}})}setSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return p(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new it;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Nl(t.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(x(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;if(!t){let{data:a,error:c}=r;if(c)throw c;t=(o=a.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new it;let{session:i,error:s}=yield this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(x(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return p(this,null,function*(){try{if(!st())throw new gr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ts("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ts("No code detected.");let{data:Z,error:E}=yield this._exchangeCodeForSession(t.code);if(E)throw E;let $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:Z.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=t;if(!s||!c||!a||!u)throw new gr("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;l&&(f=parseInt(l));let g=f-d;g*1e3<=fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:v,error:y}=yield this._getUser(s);if(y)throw y;let O={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(o){if(x(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return p(this,null,function*(){let r=yield Tn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return p(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return p(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,t);if(c&&!(Nw(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield Jt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=$w(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(t){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return p(this,arguments,function*(t,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield _r(this.storage,this.storageKey,!0));try{return yield P(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(x(a))return{data:null,error:a};throw a}})}getUserIdentities(){return p(this,null,function*(){var t;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(x(r))return{data:null,error:r};throw r}})}linkIdentity(t){return p(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>p(this,null,function*(){var a,c,l,u,d;let{data:h,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield P(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return st()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(x(o))return{data:{provider:t.provider,url:null},error:o};throw o}})}unlinkIdentity(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield P(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return p(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield qw(i=>p(this,null,function*(){return i>0&&(yield Gw(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield P(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&Ml(s)&&Date.now()+a-o<fr})}catch(o){if(this._debug(r,"error",o),x(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return p(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),st()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var t,r;let o="#_recoverAndRefresh()";this._debug(o,"begin");try{let i=yield Tn(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield Tn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield yr(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a?.user)!==null&&t!==void 0?t:Ol()}else if(i&&!i.user&&!i.user){let a=yield Tn(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,yield Jt(this.storage,this.storageKey+"-user"),yield yr(this.storage,this.storageKey,i)):i.user=Ol()}if(this._debug(o,"session from storage",i),!this._isValidSession(i)){this._debug(o,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sl;if(this._debug(o,`session has${s?"":" not"} expired with margin of ${Sl}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),Ml(a)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:a,error:c}=yield this._getUser(i.access_token);!c&&a?.user?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(o,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(o,"error",i),console.error(i);return}finally{this._debug(o,"end")}})}_callRefreshToken(t){return p(this,null,function*(){var r,o;if(!t)throw new it;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new As;let{data:s,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new it;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),x(s)){let a={session:null,error:s};return Ml(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(t,r,o=!0){return p(this,null,function*(){let i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(t,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(t){return p(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;let r=Object.assign({},t),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&(yield yr(this.userStorage,this.storageKey+"-user",{user:r.user}));let i=Object.assign({},r);delete i.user;let s=ep(i);yield yr(this.storage,this.storageKey,s)}else{let i=ep(r);yield yr(this.storage,this.storageKey,i)}})}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Jt(this.storage,this.storageKey),yield Jt(this.storage,this.storageKey+"-code-verifier"),yield Jt(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Jt(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&st()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),fr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-t)/fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${fr}ms, refresh threshold is ${Il} ticks`),i<=Il&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof xs)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!st()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return p(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,o){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield _r(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${i.join("&")}`})}_unenroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield P(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_enroll(t){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=yield P(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(x(r))return{data:null,error:r};throw r}})}_verify(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challenge(t){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield P(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(x(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return p(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=t?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(t=>p(this,null,function*(){var r,o;let{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Nl(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return p(this,arguments,function*(t,r={keys:[]}){let i=r.keys.find(l=>l.kid===t);if(i)return i;let s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===t),i&&this.jwks_cached_at+Rw>s)return i;let{data:a,error:c}=yield P(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(l=>l.kid===t),!i)?null:i})}getClaims(o){return p(this,arguments,function*(t,r={}){try{let i=t;if(!i){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return{data:null,error:v};i=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Nl(i);r?.allowExpired||Kw(a.exp);let d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:m}=yield this.getUser(i);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let h=Zw(s.alg),f=yield crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,c,Vw(`${l}.${u}`))))throw new mr("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(x(i))return{data:null,error:i};throw i}})}}return n.nextInstanceID=0,n})();var vA=op,ip=vA;var Fl=class extends ip{constructor(e){super(e)}};var yA=function(n,e,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})},Ll=class{constructor(e,t,r){var o,i,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let a=Iw(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:Dw,realtime:bw,auth:Object.assign(Object.assign({},Ew),{storageKey:l}),global:ww},d=Sw(r??{},u);this.storageKey=(o=d.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=Cw(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new iw(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new bs(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new cs(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return yA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},l,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fl({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ws(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var nD=(n,e,t)=>new Ll(n,e,t);function _A(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}_A()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var wA="https://tigfgvqiizitwxchhxbz.supabase.co",DA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRpZ2ZndnFpaXppdHd4Y2hoeGJ6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyOTA4NjIsImV4cCI6MjA3MTg2Njg2Mn0.6kQsyzr4xzaQ_qKN9XLEpjYhnmUCv98fYPogWJnUhVI",Mn=class n{client;constructor(){this.client=nD(wA,DA)}get supabase(){return this.client}palette=["#7c5cff","#5a8bff","#00c853","#ff6b6b","#ffb86b","#00bcd4","#f06292","#ffd54f","#8d6e63"];ensureUserColor(e){return p(this,null,function*(){if(!e)throw new Error("userId manquant");let{data:t,error:r}=yield this.supabase.from("users").select("color").eq("id",e).single();if(r&&r.code!=="PGRST116")throw console.error("Erreur lecture user:",r),r;if(t?.color)return t.color;let{data:o,error:i}=yield this.supabase.from("users").select("color").not("color","is",null);i&&console.warn("Impossible de r\xE9cup\xE9rer couleurs utilis\xE9es :",i);let s=(o||[]).map(d=>d.color).filter(Boolean),a=this.palette.filter(d=>!s.includes(d)),c=a.length>0?a[Math.floor(Math.random()*a.length)]:this._generateColorFromId(e);console.log("CHECK user id avant update:",c);let{data:l,error:u}=yield this.supabase.from("users").update({color:c}).eq("id",e).select().single();return u&&console.error("Erreur update color:",u),c})}_generateColorFromId(e){let t=0;for(let r=0;r<e.length;r++)t=(t*31+e.charCodeAt(r))%360;return`hsl(${t} 70% 55%)`}static \u0275fac=function(t){return new(t||n)};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})};var EA=["first"],bA=["second"];function CA(n,e){if(n&1){let t=_n();z(0,"button",21),xe("click",function(){Xe(t);let o=Tt();return et(o.prev())}),Q(1," \u2190 "),B()}}function IA(n,e){if(n&1){let t=_n();z(0,"button",22),xe("click",function(){Xe(t);let o=Tt();return et(o.prev())}),Q(1,"Pr\xE9c\xE9dent"),B()}}function SA(n,e){if(n&1){let t=_n();z(0,"button",23),xe("click",function(o){Xe(t);let i=Tt();return et(i.next(o))}),Q(1," Suivant "),B()}if(n&2){let t=Tt();we("disabled",!t.name.trim())}}function TA(n,e){if(n&1&&(z(0,"button",24),Q(1," Enregistrer "),B()),n&2){let t=Tt();we("disabled",!t.address.trim())}}function MA(n,e){if(n&1&&(z(0,"p",25)(1,"strong"),Q(2,"Enregistr\xE9 :"),B(),Q(3),B()),n&2){let t=Tt();K(3),hc(" ",t.userLocal.name," \u2014 ",t.userLocal.address," ")}}var jl=class n{constructor(e,t){this.supabaseService=e;this.router=t}firstRef;secondRef;step=0;name="";address="";get userLocal(){let e=localStorage.getItem("app_user");if(!e)return null;try{return JSON.parse(e)}catch{return null}}ngAfterViewInit(){setTimeout(()=>this.firstRef?.nativeElement.focus(),0)}saveToLocalStorage(){localStorage.setItem("app_user",JSON.stringify({name:this.name.trim(),address:this.address.trim()}))}getUserFromLocalStorage(){let e=localStorage.getItem("app_user");if(!e)return null;try{return JSON.parse(e)}catch{return null}}ngOnInit(){let e=localStorage.getItem("app_user");if(e)try{let t=JSON.parse(e);this.name=t?.name??"",this.address=t?.address??""}catch{localStorage.removeItem("app_user")}}next(e){e?.preventDefault(),this.name.trim()&&(this.saveToLocalStorage(),this.step=1,setTimeout(()=>this.secondRef?.nativeElement.focus(),260))}prev(){this.saveToLocalStorage(),this.step=0,setTimeout(()=>this.firstRef?.nativeElement.focus(),220)}onSubmit(){return p(this,null,function*(){if(!this.address.trim())return;this.saveToLocalStorage();let{data:e,error:t}=yield this.supabaseService.supabase.from("users").select("*").eq("name",this.name.trim()).eq("address",this.address.trim());if(t){console.error("\u274C Erreur Supabase:",t.message);return}let r=null;if(e&&e.length>0)r=e[0],console.log("\u26A0\uFE0F D\xE9j\xE0 pr\xE9sent dans Supabase:",r);else{let{data:o,error:i}=yield this.supabaseService.supabase.from("users").insert([{name:this.name.trim(),address:this.address.trim()}]).select().single();if(i){console.error("\u274C Erreur insertion:",i.message);return}r=o,console.log("\u2705 Ajout\xE9 dans Supabase:",r),console.log("INSERTED =",o)}console.log("existing = ",e);try{let o=yield this.supabaseService.ensureUserColor(r.id),i={id:r.id,name:r.name,address:r.address,color:o};localStorage.setItem("app_user",JSON.stringify(i))}catch(o){console.error("Erreur lors de l'assignation de couleur :",o)}this.router.navigate(["/calendar"])})}getTranslate(){return this.step===0?"translateX(0%)":"translateX(-50%)"}static \u0275fac=function(t){return new(t||n)(H(Mn),H(Do))};static \u0275cmp=Ge({type:n,selectors:[["app-login"]],viewQuery:function(t,r){if(t&1&&(uc(EA,5),uc(bA,5)),t&2){let o;dc(o=fc())&&(r.firstRef=o.first),dc(o=fc())&&(r.secondRef=o.first)}},decls:28,vars:13,consts:[["first",""],["second",""],[1,"center-wrapper"],["novalidate","",1,"card",3,"ngSubmit"],["type","button","class","back debug-back","aria-label","Retour","title","Retour",3,"click",4,"ngIf"],[1,"title"],[1,"steps-viewport"],[1,"steps-inner"],[1,"step"],[1,"field"],[1,"label-title"],["type","text","name","name","required","","autocomplete","name","placeholder","Ex : Jean",3,"ngModelChange","keydown.enter","ngModel"],["name","address","rows","5","required","","placeholder","Ex : 101 chemin Matens, Gaillac",3,"ngModelChange","ngModel"],[1,"controls"],["type","button","class","btn ghost",3,"click",4,"ngIf"],[1,"spacer"],["type","button","class","btn",3,"disabled","click",4,"ngIf"],["type","submit","class","btn",3,"disabled",4,"ngIf"],["aria-hidden","true",1,"dots"],[1,"dot"],["class","hint",4,"ngIf"],["type","button","aria-label","Retour","title","Retour",1,"back","debug-back",3,"click"],["type","button",1,"btn","ghost",3,"click"],["type","button",1,"btn",3,"click","disabled"],["type","submit",1,"btn",3,"disabled"],[1,"hint"]],template:function(t,r){if(t&1){let o=_n();z(0,"div",2)(1,"form",3),xe("ngSubmit",function(){return Xe(o),et(r.onSubmit())}),tt(2,CA,2,0,"button",4),z(3,"h1",5),Q(4,"Bienvenue"),B(),z(5,"div",6)(6,"div",7)(7,"div",8)(8,"label",9)(9,"span",10),Q(10,"Pr\xE9nom"),B(),z(11,"input",11,0),wi("ngModelChange",function(s){return Xe(o),pc(r.name,s)||(r.name=s),et(s)}),xe("keydown.enter",function(s){return Xe(o),r.next(s),et(s.preventDefault())}),B()()(),z(13,"div",8)(14,"label",9)(15,"span",10),Q(16,"Adresse"),B(),z(17,"textarea",12,1),wi("ngModelChange",function(s){return Xe(o),pc(r.address,s)||(r.address=s),et(s)}),B()()()()(),z(19,"div",13),tt(20,IA,2,0,"button",14),Ae(21,"div",15),tt(22,SA,2,1,"button",16)(23,TA,2,1,"button",17),B(),z(24,"div",18),Ae(25,"span",19)(26,"span",19),B(),tt(27,MA,4,2,"p",20),B()()}t&2&&(K(2),we("ngIf",r.step>0),K(4),wn("transform",r.getTranslate()),K(5),_i("ngModel",r.name),K(6),_i("ngModel",r.address),K(3),we("ngIf",r.step===1),K(2),we("ngIf",r.step===0),K(),we("ngIf",r.step===1),K(2),Dn("active",r.step===0),K(),Dn("active",r.step===1),K(),we("ngIf",r.step===1&&r.userLocal))},dependencies:[bn,Vf,q_,G_,dl,j_,V_,Oh,Nh,Rh],styles:['@charset "UTF-8";[_nghost-%COMP%]{--bg: #071026;--card: rgba(255,255,255,.03);--accent: #7c5cff;--accent-2: #5a8bff;--text: #e6eef8;--muted: #9fb0c7;--radius: 14px}*[_ngcontent-%COMP%]{box-sizing:border-box}.center-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;background:linear-gradient(180deg,var(--bg) 0%,#071a2a 100%);padding:24px}.card[_ngcontent-%COMP%]{position:relative;width:min(560px,92vw);background:linear-gradient(180deg,#ffffff05,#ffffff03);border-radius:var(--radius);padding:22px;box-shadow:0 6px 30px #02061799;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);color:var(--text);display:flex;flex-direction:column;gap:14px;align-items:stretch;overflow:hidden}.back[_ngcontent-%COMP%]{z-index:10;position:absolute;top:12px;left:12px;width:36px;height:36px;border-radius:8px;border:none;background:transparent;color:var(--muted);font-size:18px;display:grid;place-items:center;cursor:pointer;transition:background .14s,color .14s,transform .12s}.back[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:var(--text);transform:translateY(-1px)}.title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;text-align:center;color:var(--muted);padding-top:4px}.steps-viewport[_ngcontent-%COMP%]{min-height:170px;height:auto;width:100%;overflow:hidden;position:relative}.steps-inner[_ngcontent-%COMP%]{display:flex;width:200%;transition:transform .32s cubic-bezier(.2,.9,.24,1);align-items:flex-start}.step[_ngcontent-%COMP%]{width:50%;padding:10px 0 22px;display:flex;align-items:flex-start;justify-content:center}.field[_ngcontent-%COMP%]{width:92%;display:flex;flex-direction:column;gap:8px}.label-title[_ngcontent-%COMP%]{font-size:13px;color:var(--muted);-webkit-user-select:none;user-select:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:14px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.04);background:#ffffff08;color:var(--text);font-size:15px;line-height:1.35;outline:none;transition:box-shadow .16s ease,border-color .16s ease,transform .16s ease;-webkit-font-smoothing:antialiased;box-sizing:border-box;max-height:calc(100vh - 340px)}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{color:#e6eef873}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{box-shadow:0 10px 30px #7c5cff1f;border-color:#7c5cffe6;transform:translateY(-2px)}.controls[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:#fff;padding:10px 18px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 8px 24px #5c4bff2e;transition:transform .14s ease,opacity .14s ease}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;box-shadow:none}.btn.ghost[_ngcontent-%COMP%]{background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,.03);box-shadow:none}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.dots[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center;margin-top:6px}.dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:99px;background:#ffffff0a;transition:transform .18s,background .18s}.dot.active[_ngcontent-%COMP%]{transform:scale(1.2);background:linear-gradient(90deg,var(--accent),var(--accent-2))}.hint[_ngcontent-%COMP%]{margin:0;font-size:13px;color:var(--muted);text-align:center;padding-top:4px}@media (max-width: 420px){.card[_ngcontent-%COMP%]{padding:16px}.steps-viewport[_ngcontent-%COMP%]{min-height:200px}.step[_ngcontent-%COMP%]{padding-bottom:26px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:12px}}']})};function AA(n,e){if(n&1&&Ae(0,"span",4),n&2){let t=e.$implicit;wn("background-color",t.color),we("title",t.name)}}function xA(n,e){if(n&1){let t=_n();z(0,"div",2),xe("click",function(){let o=Xe(t).$implicit,i=Tt();return et(i.onDayClick(o))}),Q(1),tt(2,AA,1,3,"span",3),B()}if(n&2){let t=e.$implicit;K(),Mt(" ",t.date.getDate()," "),K(),we("ngForOf",t.users)}}var Vl=class n{days=[];selectedUser={name:"",color:""};toggleDate=new ne;onDayClick(e){e.users.find(r=>r.name===this.selectedUser.name)?e.users=e.users.filter(r=>r.name!==this.selectedUser.name):e.users.push(w({},this.selectedUser)),this.toggleDate.emit(e.date)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-calendar-table"]],inputs:{days:"days",selectedUser:"selectedUser"},outputs:{toggleDate:"toggleDate"},decls:2,vars:1,consts:[[1,"calendar-grid"],["class","calendar-cell",3,"click",4,"ngFor","ngForOf"],[1,"calendar-cell",3,"click"],["class","user-dot",3,"background-color","title",4,"ngFor","ngForOf"],[1,"user-dot",3,"title"]],template:function(t,r){t&1&&(z(0,"div",0),tt(1,xA,3,2,"div",1),B()),t&2&&(K(),we("ngForOf",r.days))},dependencies:[bn,ro],styles:[".calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}.calendar-cell[_ngcontent-%COMP%]{background:#ffffff08;border-radius:12px;height:80px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}.user-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;margin-top:4px}"]})};var Ul=class n{constructor(e,t){this.http=e;this.supabaseService=t}apiKey="eyJvcmciOiI1YjNjZTM1OTc4NTExMTAwMDFjZjYyNDgiLCJpZCI6ImFkOTZkNmM5NzZiNTRjNGM5MTJhOWYzNDkyZmMwNjYwIiwiaCI6Im11cm11cjY0In0=";baseUrl="https://api.openrouteservice.org";authHeaders(){return new At({Authorization:this.apiKey,"Content-Type":"application/json"})}geocode(e){let t=`${this.baseUrl}/geocode/search?text=${encodeURIComponent(e)}`;return this.http.get(t,{headers:this.authHeaders()}).pipe(M(r=>{let o=r.features?.[0]?.geometry?.coordinates;return o?{lon:o[0],lat:o[1]}:null}))}getMatrix(e,t){let r=`${this.baseUrl}/v2/matrix/driving-car`,o={locations:[[e.lon,e.lat],[t.lon,t.lat]],metrics:["distance","duration"],units:"km"};return this.http.post(r,o,{headers:this.authHeaders()}).pipe(M(i=>{let s=i.distances?.[0]?.[1],a=i.durations?.[0]?.[1];return{distanceKm:s,durationSec:a}}))}static \u0275fac=function(t){return new(t||n)(I(xc),I(Mn))};static \u0275prov=C({token:n,factory:n.\u0275fac,providedIn:"root"})};function NA(n,e){if(n&1&&(z(0,"div",6),Ae(1,"span",7),Q(2),B()),n&2){let t=e.$implicit;K(),wn("background-color",t.color),K(),Mt(" ",t.name," ")}}var Po=class n{constructor(e,t){this.ors=e;this.supabaseService=t}message="Calcul en cours...";days=[];currentUser={name:"Enora",color:"green"};userName="Utilisateur";usersLegend=[];allUsers=[];ngOnInit(){return p(this,null,function*(){let e=JSON.parse(localStorage.getItem("app_user")||"{}");this.userName=e?.name||"Utilisateur",this.currentUser.name=this.userName;try{let{data:i,error:s}=yield this.supabaseService.supabase.from("users").select("id, name, color, available_date");s?console.error("Erreur r\xE9cup\xE9ration usersLegend:",s.message):i&&(this.allUsers=i||[],this.usersLegend=this.allUsers.map(a=>({name:a.name,color:a.color})))}catch(i){console.error("Exception r\xE9cup\xE9ration usersLegend:",i)}if(e?.color)this.currentUser.color=e.color;else if(e?.id)try{let i=yield this.supabaseService.supabase.from("users").select("color, name").eq("id",e.id).single();if(i.error)console.warn("Impossible de r\xE9cup\xE9rer la couleur depuis Supabase:",i.error.message);else if(i.data){let s=i.data;s.color&&(this.currentUser.color=s.color,e.color=s.color,localStorage.setItem("app_user",JSON.stringify(e))),s.name&&(this.userName=s.name,e.name=s.name,localStorage.setItem("app_user",JSON.stringify(e)))}}catch(i){console.error("Erreur lors de la r\xE9cup\xE9ration user Supabase:",i)}this.days=[];let t=new Date;for(let i=0;i<30;i++){let s=new Date;s.setDate(t.getDate()+i),this.days.push({date:s,users:[]})}this._fillDotsFromDB();let r=e?.address||"17 place jean jaur\xE8s carmaux";this._computeDistanceAndSetMessage(e,r,"101 chemin matens Gaillac")})}onToggleDate(e){return p(this,null,function*(){let t=JSON.parse(localStorage.getItem("app_user")||"{}");if(!t?.id)return;let r=this._toISODate(e),o=this.allUsers.find(l=>l.id===t.id);if(!o)return;let i=Array.isArray(o.available_date)?[...o.available_date]:[],a=i.includes(r)?i.filter(l=>l!==r):[...i,r],{error:c}=yield this.supabaseService.supabase.from("users").update({available_date:a}).eq("id",t.id);if(c){console.error("Erreur update available_date:",c.message),this._fillDotsFromDB();return}o.available_date=a,this._fillDotsFromDB()})}_toISODate(e){let t=e.getTimezoneOffset();return new Date(e.getTime()-t*6e4).toISOString().slice(0,10)}_fillDotsFromDB(){if(!(!this.allUsers||this.allUsers.length===0))for(let e of this.days){let t=this._toISODate(e.date),r=this.allUsers.filter(o=>Array.isArray(o.available_date)&&o.available_date.includes(t)).map(o=>({name:o.name,color:o.color}));e.users=r}}_computeDistanceAndSetMessage(e,t,r){return p(this,null,function*(){console.log("--- ORS debug start ---"),console.log("this.ors =",this.ors),console.log("typeof this.ors.geocode =",typeof this.ors?.geocode),console.log("adresseUtilisateur =",t),console.log("adresseDestination =",r);let o=a=>p(this,null,function*(){if(!a)return null;try{return typeof a.then=="function"?yield a:yield su(a)}catch(c){return console.error("Erreur resolveGeo:",c),null}}),i=a=>{if(!a)return null;let c=a.data??a;if(!c)return null;if(c.features&&c.features.length>0){let l=c.features[0].geometry?.coordinates;if(l&&l.length>=2)return{lat:l[1],lon:l[0]}}if(Array.isArray(c)&&c.length>0){let l=c[0];if(l?.geometry?.coordinates){let u=l.geometry.coordinates;return{lat:u[1],lon:u[0]}}if(l?.lat&&l?.lon)return{lat:l.lat,lon:l.lon};if(l?.latitude&&l?.longitude)return{lat:l.latitude,lon:l.longitude}}return c.lat&&c.lon?{lat:c.lat,lon:c.lon}:c.latitude&&c.longitude?{lat:c.latitude,lon:c.longitude}:null},s=a=>{if(!a)return null;if(typeof a.distanceKm=="number"&&typeof a.durationSec=="number")return{distanceKm:a.distanceKm,durationSec:a.durationSec};if(a.data&&typeof a.data=="object"){if(typeof a.data.distanceKm=="number"&&typeof a.data.durationSec=="number")return{distanceKm:a.data.distanceKm,durationSec:a.data.durationSec};if(a.data.raw&&a.data.raw.distances&&Array.isArray(a.data.raw.distances)){let c=a.data.raw.distances[0]&&typeof a.data.raw.distances[0][1]=="number"?a.data.raw.distances[0][1]/1e3:void 0,l=a.data.raw.durations&&typeof a.data.raw.durations[0][1]=="number"?a.data.raw.durations[0][1]:void 0;return{distanceKm:c,durationSec:l}}}return null};try{if(e?.minutes&&e?.km){this.message=`Tu es \xE0 ${e.minutes} minutes \u2014 ${e.km} km de ${r}`,console.log("ORS: using cached minutes/km");return}let a=this.ors?.geocode?.(t),c=yield o(a);if(!c){this.message="Impossible de trouver ton adresse.";return}let l=i(c);if(!l){this.message="Impossible d'extraire les coordonn\xE9es de ton adresse.";return}let u=this.ors?.geocode?.(r),d=yield o(u);if(!d){this.message="Impossible de trouver la destination.";return}let h=i(d);if(!h){this.message="Impossible d'extraire les coordonn\xE9es de la destination.";return}let f=this.ors.getMatrix(l,h),g=yield o(f),m=s(g);if(!m||typeof m.distanceKm!="number"||typeof m.durationSec!="number"){this.message="Erreur lors du calcul de la distance.";return}let v=Math.round(m.durationSec/60),y=m.distanceKm.toFixed(1);e.minutes=v,e.km=y,localStorage.setItem("app_user",JSON.stringify(e)),this.message=`Tu es \xE0 ${v} minutes \u2014 ${y} km de ${r}`}catch(a){console.error("Exception ORS flow:",a),this.message="Erreur g\xE9ocodage adresse utilisateur."}})}static \u0275fac=function(t){return new(t||n)(H(Ul),H(Mn))};static \u0275cmp=Ge({type:n,selectors:[["app-calendar-grid"]],decls:9,vars:5,consts:[[1,"center-wrapper"],[1,"card"],[1,"title"],[3,"toggleDate","days","selectedUser"],[1,"legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"legend-item"],[1,"dot"]],template:function(t,r){t&1&&(z(0,"div",0)(1,"div",1)(2,"h1",2),Q(3),B(),z(4,"p"),Q(5),B(),z(6,"app-calendar-table",3),xe("toggleDate",function(i){return r.onToggleDate(i)}),B(),z(7,"div",4),tt(8,NA,3,3,"div",5),B()()()),t&2&&(K(3),tr(r.userName),K(2),tr(r.message),K(),we("days",r.days)("selectedUser",r.currentUser),K(2),we("ngForOf",r.usersLegend))},dependencies:[bn,ro,Vl],styles:["[_nghost-%COMP%]{--bg: #071026;--card: rgba(255,255,255,.03);--accent: #7c5cff;--accent-2: #5a8bff;--text: #e6eef8;--muted: #9fb0c7;--radius: 14px}*[_ngcontent-%COMP%]{box-sizing:border-box}.center-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:grid;place-items:center;background:linear-gradient(180deg,var(--bg) 0%,#071a2a 100%);padding:24px}.card[_ngcontent-%COMP%]{width:min(720px,92vw);background:linear-gradient(180deg,#ffffff05,#ffffff03);border-radius:var(--radius);padding:22px;box-shadow:0 6px 30px #02061799;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);color:var(--text);display:flex;flex-direction:column;gap:16px;overflow:hidden}.calendar-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-size:18px;color:var(--muted)}.calendar-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;margin-top:12px}.calendar-cell[_ngcontent-%COMP%]{background:var(--card);border-radius:12px;height:80px;display:flex;justify-content:center;align-items:center;color:var(--text);font-size:14px;cursor:pointer;transition:all .16s ease}.calendar-cell[_ngcontent-%COMP%]:hover{background:#7c5cff33;transform:translateY(-2px)}.calendar-cell.selected[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff}.controls[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:16px}.btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:none;color:#fff;padding:10px 18px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 8px 24px #5c4bff2e;transition:transform .14s ease,opacity .14s ease}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;box-shadow:none}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 420px){.card[_ngcontent-%COMP%]{padding:16px}.calendar-cell[_ngcontent-%COMP%]{height:60px;font-size:12px}}.legend[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:16px;flex-wrap:wrap}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:14px;color:var(--text)}.dot[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50%}"]})};var Bl=class n{user;travelTime="";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-dashboard"]],decls:15,vars:3,consts:[[1,"dashboard-container"],[1,"travel-time"]],template:function(t,r){t&1&&(z(0,"div",0)(1,"h2"),Q(2),B(),z(3,"p"),Q(4),B(),z(5,"p"),Q(6,"Temps estim\xE9 pour aller \xE0 "),z(7,"b"),Q(8,"101 chemin Matens Gaillac"),B(),Q(9," : "),z(10,"span",1),Q(11),B()(),z(12,"h3"),Q(13,"\u{1F5D3} Tes disponibilit\xE9s"),B(),Ae(14,"app-calendar-grid"),B()),t&2&&(K(2),Mt("Bonjour ",r.user==null?null:r.user.name),K(2),Mt("Ton adresse : ",r.user==null?null:r.user.address),K(7),tr(r.travelTime))},dependencies:[Po],encapsulation:2})};var OA=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:jl},{path:"dashboard",component:Bl},{path:"calendar",component:Po}];Zf(rl,{providers:[Eh(OA),Qf()]});
